# ุฏููู ุงููุดุฑ ุงูุชููุงุฆู - Supabase Database

## ๐ ุงููุดุฑ ุงูุชููุงุฆู ููุฌุฏุงูู ูู Supabase

ุงูุชุทุจูู ุฏูููุชู ุจูุนูู ุฅูุดุงุก ุชููุงุฆู ููุฌุฏุงูู ูู Supabase ุจุฏูู ุชุฏุฎู ูุฏูู!

### โ ุงููู ููุญุตู ุชููุงุฆูุงู:

1. **ุฅูุดุงุก ุงูุฌุฏุงูู:** ูู ุงูุฌุฏุงูู ุงููุทููุจุฉ ูุชุชุนูู ุชููุงุฆูุงู
   - `users` - ุฌุฏูู ุงููุณุชุฎุฏููู
   - `messages` - ุฌุฏูู ุงูุฑุณุงุฆู  
   - `friends` - ุฌุฏูู ุงูุฃุตุฏูุงุก
   - `notifications` - ุฌุฏูู ุงูุฅุดุนุงุฑุงุช
   - `blocked_devices` - ุฌุฏูู ุงูุฃุฌูุฒุฉ ุงููุญุฌูุจุฉ

2. **ุฅุถุงูุฉ ุงูุฃุนูุฏุฉ:** ูู ุงูุฃุนูุฏุฉ ุงููุทููุจุฉ ูุน ุฃููุงุน ุงูุจูุงูุงุช ุงูุตุญูุญุฉ
3. **ุฅูุดุงุก ุงูุนูุงูุงุช:** Foreign Keys ุจูู ุงูุฌุฏุงูู
4. **ุงูุจูุงูุงุช ุงูุงูุชุฑุงุถูุฉ:** ูุณุชุฎุฏููู admin ู testuser

### ๐ง ููู ูุดุชุบู:

```typescript
// ุนูุฏ ุจุฏุก ุงูุชุทุจูู
await runMigrations(); // ููุดุฆ ุงูุฌุฏุงูู ุชููุงุฆูุงู
await createDefaultUsers(); // ููุดุฆ ุงููุณุชุฎุฏููู ุงูุงูุชุฑุงุถููู
```

### ๐ ุฎุทูุงุช ุงููุดุฑ:

1. **ุงุนูู Push ููููุฏ:**
   ```bash
   git add .
   git commit -m "Add automatic database migrations"
   git push
   ```

2. **Render ููุนูู:**
   - Build ููุชุทุจูู
   - ุชุดุบูู migrations ุชููุงุฆูุงู
   - ุฅูุดุงุก ุงูุฌุฏุงูู ูู Supabase
   - ุชุดุบูู ุงูุชุทุจูู

### ๐ฏ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ:

- โ **ูุด ูุญุชุงุฌ ุชุนูู ุฌุฏุงูู ูุฏูู ูู Supabase**
- โ **ุชุญุฏูุซุงุช Schema ุชุชู ุชููุงุฆูุงู**
- โ **ูุด ูุญุชุงุฌ ุชุดุบู `drizzle-kit push` ูุฏูู**
- โ **ูู deployment ุฌุฏูุฏ ููุญุฏุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช**

### ๐ ููุชุทููุฑ ุงููุญูู:

```bash
# ูุฅูุดุงุก migration ุฌุฏูุฏ (ุจุนุฏ ุชุนุฏูู schema.ts)
npm run db:generate

# ูุชุทุจูู migrations (ูู ุนุงูุฒ ุชุฎุชุจุฑ)
npm run db:migrate
```

### ๐ ูุซุงู Logs ุงููุฌุงุญ:

```
๐ Running database migrations...
โ Database migrations completed successfully
โ Default users verification complete
โ Database initialization completed successfully
โ ุงูุณูุฑูุฑ ูุนูู ุนูู http://localhost:10000
```

### โ๏ธ ููุงุญุธุงุช ูููุฉ:

1. **DATABASE_URL** ูุงุฒู ูููู ููุฌูุฏ ูู environment variables
2. **migrations folder** ูุงุฒู ูููู ููุฌูุฏ ูู ุงูู build
3. **Supabase connection** ูุงุฒู ุชููู ุตุญูุญุฉ

---
**ุงูุขู ุงูุชุทุจูู ุฌุงูุฒ ูููุดุฑ ูุน ุฅูุดุงุก ุชููุงุฆู ูุงูู ูููุงุนุฏุฉ! ๐**