# ุฅุตูุงุญ ูุดููุฉ ุชุณุฌูู ุงูุฏุฎูู ููุฃุนุถุงุก ๐ง

## ุงููุดููุฉ ุงูุญุงููุฉ
- โ ุงูุฏุฎูู ูุถูู ูุนูู ุจุดูู ุทุจูุนู
- โ ุชุณุฌูู ุงูุฏุฎูู ููุนุถู "ุนุจูุฏ" ุจูููุฉ ุงููุฑูุฑ "22333" ูุงุดู
- ุงูุณุจุจ: ุงููุณุชุฎุฏู ุบูุฑ ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ูุดููุฉ ูู ุงูุงุชุตุงู

## ุงูุชุดุฎูุต ูุงูุญููู

### 1. ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
npm run test:db
```
ูุฐุง ุงูุฃูุฑ ุณูุชุญูู ูู:
- ุงูุงุชุตุงู ุจู Supabase
- ูุฌูุฏ ุฌุฏูู ุงููุณุชุฎุฏููู
- ุงูุจุญุซ ุนู ุงููุณุชุฎุฏู "ุนุจูุฏ"
- ุนุฑุถ ุฌููุน ุงููุณุชุฎุฏููู ุงูููุฌูุฏูู

### 2. ุฅุถุงูุฉ ุงููุณุชุฎุฏู ุฅุฐุง ูู ููู ููุฌูุฏุงู
```bash
npm run add-user
```
ูุฐุง ุงูุฃูุฑ ุณูููู ุจู:
- ุงูุจุญุซ ุนู ุงููุณุชุฎุฏู "ุนุจูุฏ"
- ุฅุถุงูุชู ุฅุฐุง ูู ููู ููุฌูุฏุงู
- ุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ ุฅูู "22333" ุฅุฐุง ูุงู ููุฌูุฏุงู

### 3. ุฅุตูุงุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช (ุฅุฐุง ูุฒู ุงูุฃูุฑ)
```bash
npm run db:fix-production
```

## ุงููุดุงูู ุงููุญุชููุฉ ูุงูุญููู

### ุฃ) ุงููุณุชุฎุฏู ุบูุฑ ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุงูุญู:**
```bash
npm run add-user
```

### ุจ) ูุดููุฉ ูู ุงูุงุชุตุงู ุจู Supabase
**ุฃุนุฑุงุถ:**
- ุฎุทุฃ "Connection failed"
- ุฎุทุฃ "ENOTFOUND" ุฃู "ECONNREFUSED"

**ุงูุญู:**
1. ุชุญูู ูู DATABASE_URL ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
2. ุชุฃูุฏ ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช Supabase ูุดุทุฉ
3. ุชุญูู ูู ุฅุนุฏุงุฏุงุช SSL

### ุฌ) ูููุฉ ุงููุฑูุฑ ุบูุฑ ุตุญูุญุฉ
**ุงูุญู:**
- ุงุณุชุฎุฏู ุณูุฑุจุช add-user ูุชุญุฏูุซ ูููุฉ ุงููุฑูุฑ
- ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู "22333" ุจุงูุถุจุท

### ุฏ) ูุดููุฉ ูู ุงูุนููุฏ "role"
**ุงูุญู:**
```bash
npm run db:fix-production
```

## ุงุฎุชุจุงุฑ ุงูุญู

### 1. ูู ุงูุฅูุชุงุฌ (Render):
1. ุงูุชุญ Shell ูู Render
2. ุดุบู: `npm run test:db`
3. ุฅุฐุง ูู ูุฌุฏ ุงููุณุชุฎุฏูุ ุดุบู: `npm run add-user`
4. ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู
5. ุฌุฑุจ ุชุณุฌูู ุงูุฏุฎูู

### 2. ูุญููุงู:
1. ุชุฃูุฏ ูู ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ ุชุญุชูู ุนูู ุงููุณุชุฎุฏู
2. ุดุบู: `npm run db:fix-sqlite`
3. ุดุบู: `npm run dev`

## ุฑุณุงุฆู ุงููุฌุงุญ ุงููุชููุนุฉ

ุนูุฏ ูุฌุงุญ ุงูุฅุตูุงุญ ุณุชุธูุฑ:
```
โ Found user "ุนุจูุฏ" in database
โ User login successful: ุนุจูุฏ
```

ุนูุฏ ุฅุถุงูุฉ ุงููุณุชุฎุฏู ุจูุฌุงุญ:
```
โ User "ุนุจูุฏ" added successfully
๐ You can now try logging in with username "ุนุจูุฏ" and password "22333"
```

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ุธูุฑ "User not found":
1. ุดุบู `npm run test:db` ููุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุดุบู `npm run add-user` ูุฅุถุงูุฉ ุงููุณุชุฎุฏู
3. ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู

### ุฅุฐุง ุธูุฑ "Database connection failed":
1. ุชุญูู ูู DATABASE_URL
2. ุชุฃูุฏ ูู ุฃู Supabase ูุดุท
3. ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ

### ุฅุฐุง ุธูุฑ "Column role does not exist":
1. ุดุบู `npm run db:fix-production`
2. ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู

## ุงููููุงุช ุฐุงุช ุงูุตูุฉ

- `server/routes/auth.ts` - ููุทู ุชุณุฌูู ุงูุฏุฎูู
- `server/storage.ts` - ุงูุจุญุซ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- `test-supabase-connection.mjs` - ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
- `add-test-user.mjs` - ุฅุถุงูุฉ ุงููุณุชุฎุฏู

## ูุนูููุงุช ุงููุณุชุฎุฏู ุงููุทููุจ

- **ุงุณู ุงููุณุชุฎุฏู:** ุนุจูุฏ
- **ูููุฉ ุงููุฑูุฑ:** 22333
- **ููุน ุงููุณุชุฎุฏู:** member
- **ุงูุฏูุฑ:** member

---

**ุงูุญุงูุฉ:** ๐ง ุฌุงุฑู ุงูุฅุตูุงุญ  
**ุงููุทููุจ:** ุชุดุบูู ุงูุณูุฑุจุช ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ  
**ุงูุชููุน:** โ ูุฌุงุญ ุชุณุฌูู ุงูุฏุฎูู ุฎูุงู ุฏูุงุฆู