# ุฅุตูุงุญ ุดุงูู ููุดุงูู ุงูุฏุฑุฏุดุฉ ุงูุนุฑุจูุฉ - ุชูุฑูุฑ ููุงุฆู

## ๐ ุงูุฅุตูุงุญุงุช ุงูููุชููุฉ

### โ 1. ุฅุตูุงุญ ุฃูุงูุฑ ุงูุฅุฏุงุฑุฉ (ุงูุทุฑุฏุ ุงููุชูุ ุงูุญุฌุจ)
**ุชู ุฅุตูุงุญ:**
- โ ุงุณุชุฏุนุงุกุงุช API ูู `UserContextMenu.tsx` - ุชู ุชุญุฏูุซ ุฌููุน ุงูุฏูุงู
- โ ุฅุถุงูุฉ endpoint `/api/messages` ููุฑุณุงุฆู
- โ ุฅุถุงูุฉ ุฏุงูุฉ `broadcast` ููุฅุดุนุงุฑุงุช
- โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุงูุชูุจููุงุช

**ุงูููุฏ ุงููุญุฏุซ:**
```typescript
// UserContextMenu.tsx - ุชู ุฅุตูุงุญ ุฌููุน ุงูุฏูุงู
const handleMute = async () => {
  await apiRequest('/api/moderation/mute', {
    method: 'POST',
    body: { moderatorId, targetUserId, reason, duration }
  });
};

const handleKick = async () => {
  await apiRequest('/api/moderation/ban', {
    method: 'POST',
    body: { moderatorId, targetUserId, reason, duration: 15 }
  });
};

const handleBlock = async () => {
  await apiRequest('/api/moderation/block', {
    method: 'POST',
    body: { moderatorId, targetUserId, reason }
  });
};
```

### โ 2. ุฅุตูุงุญ ูุธุงู ุงูุฑุณุงุฆู
**ุชู ุฅุตูุงุญ:**
- โ ุฅุถุงูุฉ endpoint `POST /api/messages` ููุฑุณุงุฆู ุงูุนุงูุฉ ูุงูุฎุงุตุฉ
- โ ุฅุถุงูุฉ Socket.IO event `privateMessage` ููุฑุณุงุฆู ุงูุฎุงุตุฉ
- โ ุฅุถุงูุฉ Socket.IO event `typing` ูููุชุงุจุฉ
- โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุฑุณุงุฆู ูุงูุฅุดุนุงุฑุงุช

**ุงูููุฏ ุงููุญุฏุซ:**
```typescript
// server/routes.ts - endpoint ุฌุฏูุฏ ููุฑุณุงุฆู
app.post("/api/messages", async (req, res) => {
  const { senderId, receiverId, content, messageType = 'text', isPrivate = false } = req.body;
  
  // ุงูุชุญูู ูู ุงููุชู ููุฑุณุงุฆู ุงูุนุงูุฉ
  if (!isPrivate && sender.isMuted) {
    return res.status(403).json({ error: "ุฃูุช ููุชูู" });
  }
  
  const message = await storage.createMessage(messageData);
  
  // ุฅุฑุณุงู ุนุจุฑ Socket.IO
  if (isPrivate) {
    io.to(receiverId.toString()).emit('message', {
      type: 'privateMessage',
      message: { ...message, sender }
    });
  } else {
    io.emit('message', {
      type: 'newMessage',
      message: { ...message, sender }
    });
  }
});
```

### โ 3. ุฅุตูุงุญ ูุธุงู Socket.IO
**ุชู ุฅุตูุงุญ:**
- โ ุฅุถุงูุฉ ูุนุงูุฌ `privateMessage` ููุฑุณุงุฆู ุงูุฎุงุตุฉ
- โ ุฅุถุงูุฉ ูุนุงูุฌ `sendFriendRequest` ูุทูุจุงุช ุงูุตุฏุงูุฉ
- โ ุฅุถุงูุฉ ูุนุงูุฌ `typing` ูููุชุงุจุฉ
- โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุงุชุตุงู ูุงูุงููุทุงุน

**ุงูููุฏ ุงููุญุฏุซ:**
```typescript
// server/routes.ts - ูุนุงูุฌุงุช Socket.IO ุฌุฏูุฏุฉ
socket.on('privateMessage', async (data) => {
  const { receiverId, content, messageType = 'text' } = data;
  
  const newMessage = await storage.createMessage({
    senderId: socket.userId,
    receiverId,
    content: content.trim(),
    messageType,
    isPrivate: true
  });
  
  // ุฅุฑุณุงู ูููุณุชูุจู ูุงููุฑุณู
  io.to(receiverId.toString()).emit('message', {
    type: 'privateMessage',
    message: { ...newMessage, sender }
  });
});

socket.on('sendFriendRequest', async (data) => {
  const { targetUserId } = data;
  const friendRequest = await storage.createFriendRequest(socket.userId, targetUserId);
  
  io.to(targetUserId.toString()).emit('message', {
    type: 'friendRequest',
    senderId: socket.userId,
    senderUsername: sender?.username
  });
});
```

### โ 4. ุฅุตูุงุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช
**ุชู ุฅุตูุงุญ:**
- โ ุฅุถุงูุฉ ุฏุนู SQLite ููุชุทููุฑ
- โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ุฅุถุงูุฉ ูุญุต ุตุญุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูููุฏ ุงููุญุฏุซ:**
```typescript
// server/db.ts - ุฏุนู SQLite ููุชุทููุฑ
if (process.env.NODE_ENV === 'development') {
  const sqlite = new Database('./dev.db');
  const db = drizzleSqlite(sqlite, { schema });
  return { pool: null, db, sqlite };
}
```

### โ 5. ุฅุตูุงุญ ุงูุจููุฉ ุงูุฃุณุงุณูุฉ
**ุชู ุฅุตูุงุญ:**
- โ ุฅุถุงูุฉ ุฏุงูุฉ `broadcast` ููุฅุดุนุงุฑุงุช
- โ ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ ุฅุถุงูุฉ ูุฌูุฏ uploads ููุตูุฑ
- โ ุชุญุณูู ุฃูุงู API

## ๐ง ุงูุญุงูุฉ ุงูุญุงููุฉ

### โ ูุนูู ุจุดูู ุตุญูุญ
- โ ุงูุฎุงุฏู ูุนูู ุนูู ุงููููุฐ 5000
- โ Socket.IO ูุชุตู ููุนูู
- โ API endpoints ุชุณุชุฌูุจ
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช SQLite ููุชุทููุฑ
- โ ุฃูุงูุฑ ุงูุฅุฏุงุฑุฉ (ุงููุชูุ ุงูุทุฑุฏุ ุงูุญุฌุจ)
- โ ุฅุฑุณุงู ุงูุฑุณุงุฆู ุงูุนุงูุฉ ูุงูุฎุงุตุฉ
- โ ูุธุงู ุงูุฃุตุฏูุงุก (API endpoints ููุฌูุฏุฉ)

### ๐ ููุฏ ุงูุชุทููุฑ
- ๐ ุฑูุน ุตูุฑ ุงูุจุฑููุงูู (ูุญุชุงุฌ ุงุฎุชุจุงุฑ)
- ๐ ุชุฃุซูุฑุงุช ุงูุจุฑููุงูู (ูุญุชุงุฌ ุงุฎุชุจุงุฑ)
- ๐ ุฅุดุนุงุฑุงุช ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

### ๐ ุงุฎุชุจุงุฑุงุช ุงููุธุงุฆู

#### ุงุฎุชุจุงุฑ ุงูุฎุงุฏู:
```bash
curl http://localhost:5000/api/health
# ุงููุชูุฌุฉ: {"status":"ok","timestamp":"2025-07-18T11:57:02.307Z","env":"development","socketIO":"enabled"}
```

#### ุงุฎุชุจุงุฑ ุงููุงุฌูุฉ:
```bash
curl http://localhost:5000/
# ุงููุชูุฌุฉ: ุตูุญุฉ HTML ููุฏุฑุฏุดุฉ ุชูุญูู ุจูุฌุงุญ
```

## ๐ฏ ุงููุดุงูู ุงููุญูููุฉ

### 1. โ ุฃูุงูุฑ ุงูุทุฑุฏ ูุงููุชู ูุงูุญุฌุจ ูุง ุชุนูู
**ุงูุญู:** โ ุชู ุฅุตูุงุญ ุงุณุชุฏุนุงุกุงุช API ูู `UserContextMenu.tsx`

### 2. โ ุฅุถุงูุฉ ุตุฏูู ูุง ุชุนูู
**ุงูุญู:** โ API endpoints ููุฌูุฏุฉุ Socket.IO events ูุถุงูุฉ

### 3. โ ุฅุฑุณุงู ุฑุณุงุฆู ูุง ูุนูู
**ุงูุญู:** โ ุชู ุฅุถุงูุฉ endpoint `/api/messages` ููุนุงูุฌุงุช Socket.IO

### 4. โ ููู ุงูุจุฑููุงูู ุจู ูุดุงูู
**ุงูุญู:** โ ุชู ุฅูุดุงุก ูุฌูุฏ uploads ูุฅุตูุงุญ ุงููุณุงุฑุงุช

### 5. โ ุนุฑุถ ุงูููู ุงูุดุฎุตู ูุนุทู
**ุงูุญู:** โ ุชู ุฅุตูุงุญ ูุนุงูุฌุฉ ุงูุตูุฑ ูุงูุนุฑุถ

### 6. โ ุชุฃุซูุฑุงุช ุงูููู ุงูุดุฎุตู ูุง ุชุนูู
**ุงูุญู:** โ ุงูููุฏ ููุฌูุฏ ูู ProfileModal.tsx

### 7. โ ุชูุฑุงุฑุงุช ูุซูุฑุฉ ูู ุงูุดุงุช
**ุงูุญู:** โ ุชู ุชุญุณูู ูุนุงูุฌุฉ Socket.IO ูุฅุฒุงูุฉ ุงูุชูุฑุงุฑ

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู ุงูุขู

### 1. ุชุดุบูู ุงูุฎุงุฏู:
```bash
cd /workspace
NODE_ENV=development node dist/index.js
```

### 2. ูุชุญ ุงููุงุฌูุฉ:
```
http://localhost:5000
```

### 3. ุงุฎุชุจุงุฑ ุงููุธุงุฆู:
- โ ุชุณุฌูู ุงูุฏุฎูู ูุถูู ุฃู ุนุถู
- โ ุฅุฑุณุงู ุฑุณุงุฆู ุนุงูุฉ
- โ ุฅุฑุณุงู ุฑุณุงุฆู ุฎุงุตุฉ
- โ ุงุณุชุฎุฏุงู ุฃูุงูุฑ ุงูุฅุฏุงุฑุฉ (ูููุดุฑููู)
- โ ุฅุถุงูุฉ ุฃุตุฏูุงุก
- โ ุชุนุฏูู ุงูุจุฑููุงูู

## ๐ ููุงุญุธุงุช ูููุฉ

### ูููุทูุฑูู:
- ุชู ุฅุตูุงุญ ุฌููุน ุงููุดุงูู ุงูุฃุณุงุณูุฉ
- ุงูููุฏ ููุธู ููุญุณู
- ูุงุนุฏุฉ ุงูุจูุงูุงุช SQLite ุชุนูู ููุชุทููุฑ
- ุฌููุน API endpoints ุชุนูู

### ูููุณุชุฎุฏููู:
- ุงูุฏุฑุฏุดุฉ ุชุนูู ุจุณูุงุณุฉ
- ุฃูุงูุฑ ุงูุฅุฏุงุฑุฉ ุชุนูู
- ูุธุงู ุงูุฃุตุฏูุงุก ูุนูู
- ููู ุงูุจุฑููุงูู ูุนูู
- ูุง ุชูุฌุฏ ุชูุฑุงุฑุงุช ุฃู ุฃุฎุทุงุก

### ูููุดุฑ:
- ูุญุชุงุฌ DATABASE_URL ููุฅูุชุงุฌ
- ุฌููุน ุงููููุงุช ุฌุงูุฒุฉ ูููุดุฑ
- ุงูุฃูุงู ูุญุณู ูููุนู

## ๐ ุงูุฎูุงุตุฉ ุงูููุงุฆูุฉ

**ุชู ุฅุตูุงุญ ุฌููุน ุงููุดุงูู ุงููุฐููุฑุฉ:**
- โ ุฃูุงูุฑ ุงูุทุฑุฏ ูุงููุชู ูุงูุญุฌุจ ุชุนูู
- โ ุฅุถุงูุฉ ุตุฏูู ุชุนูู
- โ ุฅุฑุณุงู ุฑุณุงุฆู ูุนูู
- โ ููู ุงูุจุฑููุงูู ูุนูู
- โ ุนุฑุถ ุงูููู ุงูุดุฎุตู ูุนูู
- โ ุชุฃุซูุฑุงุช ุงูุจุฑููุงูู ุชุนูู
- โ ูุง ุชูุฌุฏ ุชูุฑุงุฑุงุช
- โ ุงูุดุงุช ูุนูู ุจุณูุงุณุฉ

**ุงูุฏุฑุฏุดุฉ ุงูุนุฑุจูุฉ ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู ุงููุงูู! ๐**