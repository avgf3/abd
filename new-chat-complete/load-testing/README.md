# ๐ Load Testing Suite - Chat Application

ูุฌููุนุฉ ุดุงููุฉ ูุงุฎุชุจุงุฑ ุงูุถุบุท ูุงูุฃุฏุงุก ูุชุทุจูู ุงูุฏุฑุฏุดุฉ

## ๐ ุงููุญุชููุงุช

- [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
- [ุงููููุฒุงุช](#ุงููููุฒุงุช)
- [ุงูุชุซุจูุช](#ุงูุชุซุจูุช)
- [ุงูุงุณุชุฎุฏุงู](#ุงูุงุณุชุฎุฏุงู)
- [ุงูุณููุงุฑูููุงุช](#ุงูุณููุงุฑูููุงุช)
- [ุงูุชูุงุฑูุฑ](#ุงูุชูุงุฑูุฑ)
- [ุงููุฑุงูุจุฉ](#ุงููุฑุงูุจุฉ)

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ูุฐู ุงููุฌููุนุฉ ุชููุฑ ุงุฎุชุจุงุฑุงุช ุดุงููุฉ ููุถุบุท ูุงูุฃุฏุงุก ุจุงุณุชุฎุฏุงู ุฃูุถู ุงูุฃุฏูุงุช ุงููุชุงุญุฉ:
- **K6**: ุงุฎุชุจุงุฑุงุช HTTP ูWebSocket ุงููุชูุฏูุฉ
- **Artillery**: ุงุฎุชุจุงุฑุงุช Socket.IO ูุงูููุช ุงููุนูู
- **Autocannon**: ุงุฎุชุจุงุฑุงุช HTTP ุงูุณุฑูุนุฉ

## โจ ุงููููุฒุงุช

- ๐ฅ ุงุฎุชุจุงุฑุงุช HTTP ุดุงููุฉ (REST API)
- ๐ ุงุฎุชุจุงุฑุงุช WebSocket ูSocket.IO
- ๐ ุชูุงุฑูุฑ ููุตูุฉ ุจุตูุบ ูุชุนุฏุฏุฉ (JSON, HTML, PDF)
- ๐ ูุฑุงูุจุฉ ุงููุธุงู ูู ุงูููุช ุงููุนูู
- ๐ฏ ุณููุงุฑูููุงุช ูุชุนุฏุฏุฉ (Ramp-up, Spike, Stress, Endurance)
- ๐ก ุชุญููู ุงูุงุฎุชูุงูุงุช ูุงูุชูุตูุงุช
- ๐ ุฏุนู ุงููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ

## ๐๏ธ ุงูุชุซุจูุช

### 1. ุชุซุจูุช ุงูุฃุฏูุงุช ุงูุฃุณุงุณูุฉ

```bash
# ุชุดุบูู ุณูุฑูุจุช ุงูุชุซุจูุช ุงูุชููุงุฆู
./scripts/install-tools.sh

# ุฃู ุงูุชุซุจูุช ุงููุฏูู
npm install -g k6 artillery autocannon
```

### 2. ุชุซุจูุช ุงูุชุจุนูุงุช ุงููุญููุฉ

```bash
cd load-testing
npm install
```

## ๐ ุงูุงุณุชุฎุฏุงู

### ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช

```bash
# ูู ูุฌูุฏ load-testing
node scripts/run-all-tests.js

# ุฃู ุจุงุณุชุฎุฏุงู npm
npm run test:all
```

### ุชุดุบูู ุงุฎุชุจุงุฑุงุช ูุญุฏุฏุฉ

#### K6 HTTP Test
```bash
k6 run -e BASE_URL=http://localhost:5000 scenarios/k6-http-test.js
```

#### K6 WebSocket Test
```bash
k6 run -e WS_URL=ws://localhost:5000 scenarios/k6-websocket-test.js
```

#### Artillery Socket.IO Test
```bash
artillery run --target http://localhost:5000 scenarios/artillery-socketio.yml
```

#### Autocannon HTTP Test
```bash
node scenarios/autocannon-http.js spike
```

### ูุฑุงูุจุฉ ุงููุธุงู

```bash
# ุชุดุบูู ูุฑุงูุจ ุงููุธุงู
node scripts/monitor-system.js

# ุฃู
npm run monitor
```

### ุชุญููู ุงููุชุงุฆุฌ

```bash
# ุชุญููู ุฌููุน ุงููุชุงุฆุฌ
node scripts/analyze-results.js

# ุฃู
npm run analyze
```

## ๐ ุงูุณููุงุฑูููุงุช

### 1. Ramp-up Test (ุงุฎุชุจุงุฑ ุงูุชุฏุฑุฌ)
- **ุงููุฏุฉ**: 30 ุฏูููุฉ
- **ุงููุณุชุฎุฏููู**: 0 โ 1000
- **ุงููุฏู**: ููุงุณ ุงูุฃุฏุงุก ูุน ุฒูุงุฏุฉ ุชุฏุฑูุฌูุฉ

### 2. Spike Test (ุงุฎุชุจุงุฑ ุงูุฐุฑูุฉ)
- **ุงููุฏุฉ**: 15 ุฏูููุฉ
- **ุงููุณุชุฎุฏููู**: 100 โ 2000 โ 100
- **ุงููุฏู**: ุงุฎุชุจุงุฑ ุงูุงุณุชุฌุงุจุฉ ููุฒูุงุฏุงุช ุงูููุงุฌุฆุฉ

### 3. Stress Test (ุงุฎุชุจุงุฑ ุงูุฅุฌูุงุฏ)
- **ุงููุฏุฉ**: ุญุชู ุงููุดู
- **ุงููุณุชุฎุฏููู**: ุฒูุงุฏุฉ ูุณุชูุฑุฉ
- **ุงููุฏู**: ุชุญุฏูุฏ ููุทุฉ ุงูุงูููุงุฑ

### 4. Endurance Test (ุงุฎุชุจุงุฑ ุงูุชุญูู)
- **ุงููุฏุฉ**: 4 ุณุงุนุงุช
- **ุงููุณุชุฎุฏููู**: 200 ุซุงุจุช
- **ุงููุฏู**: ุงูุชุดุงู ุชุณุฑูุจุงุช ุงูุฐุงูุฑุฉ

## ๐ ุงูุชูุงุฑูุฑ

### ุฃููุงุน ุงูุชูุงุฑูุฑ

1. **JSON Reports**: ุจูุงูุงุช ุฎุงู ููุชุญููู ุงููุชูุฏู
2. **HTML Reports**: ุชูุงุฑูุฑ ุชูุงุนููุฉ ุจูุงุฌูุฉ ุฌูููุฉ
3. **Console Output**: ูุชุงุฆุฌ ููุฑูุฉ ูู Terminal
4. **PDF Reports**: ุชูุงุฑูุฑ ุฑุณููุฉ ููุชูุซูู

### ูููุน ุงูุชูุงุฑูุฑ

ุฌููุน ุงูุชูุงุฑูุฑ ูุชู ุญูุธูุง ูู ูุฌูุฏ `results/`:
```
load-testing/results/
โโโ k6-http-*.json
โโโ k6-websocket-*.json
โโโ artillery-*.json
โโโ autocannon-*.json
โโโ system-metrics-*.json
โโโ analysis-*.json
โโโ analysis-report-*.html
```

## ๐ ุงููุฑุงูุจุฉ

### ุงูููุงููุณ ุงููุฑุงูุจุฉ

- **CPU**: ุงูุงุณุชุฎุฏุงูุ ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉุ ุชูุฒูุน ุงูุฃูููุฉ
- **Memory**: RAMุ Swapุ ุงูุชูุฒูุน
- **Network**: ูุนุฏู ุงููููุ ุฅุฌูุงูู ุงูุจูุงูุงุช
- **Disk I/O**: ุงููุฑุงุกุฉุ ุงููุชุงุจุฉ
- **Processes**: ุงูุนูููุงุช ุงููุดุทุฉุ ุฃุนูู ุงุณุชููุงู

### ุงูุชูุจููุงุช

- CPU > 90%
- Memory > 90%
- Swap > 50%
- Error Rate > 5%

## ๐ ุงูุชูููู

### ููู ุงูุชูููู ุงูุฑุฆูุณู

```json
// config/test-config.json
{
  "environments": {
    "local": {
      "baseURL": "http://localhost:5000",
      "wsURL": "ws://localhost:5000"
    },
    "production": {
      "baseURL": "https://your-app.com",
      "wsURL": "wss://your-app.com"
    }
  }
}
```

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ

```bash
export TEST_ENV=local        # ุฃู staging, production
export BASE_URL=http://localhost:5000
export WS_URL=ws://localhost:5000
export DURATION=60           # ุจุงูุซูุงูู
export CONNECTIONS=100       # ุนุฏุฏ ุงูุงุชุตุงูุงุช
```

## ๐ฏ ูุนุงููุฑ ุงููุฌุงุญ

### ุงูุฃุฏุงุก
- P50 Latency < 100ms
- P95 Latency < 500ms
- P99 Latency < 1000ms

### ุงูููุซูููุฉ
- Error Rate < 1%
- Success Rate > 99%
- Uptime > 99.9%

### ุงููุงุจููุฉ ููุชูุณุน
- 1000+ concurrent users
- 500+ messages/second
- 1000+ requests/second

## ๐จ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ุงูุฃุฏูุงุช ุบูุฑ ูุซุจุชุฉ
```bash
./scripts/install-tools.sh
```

### ุงููุดููุฉ: ุงูุฎุงุฏู ุบูุฑ ูุชุงุญ
```bash
# ุชุฃูุฏ ูู ุชุดุบูู ุงูุฎุงุฏู
npm run dev
```

### ุงููุดููุฉ: ููุงุฏ ุงูุฐุงูุฑุฉ
```bash
# ุฒูุงุฏุฉ ุญุฏ ุงูุฐุงูุฑุฉ ูู Node.js
export NODE_OPTIONS="--max-old-space-size=4096"
```

## ๐ ุงูููุงุฑุฏ

- [K6 Documentation](https://k6.io/docs/)
- [Artillery Documentation](https://artillery.io/docs/)
- [Autocannon Documentation](https://github.com/mcollina/autocannon)

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ูุฑุฌู ูุชุญ Issue ุฃู Pull Request.

## ๐ ุงูุชุฑุฎูุต

MIT License

---

ุตููุน ุจู โค๏ธ ูุงุฎุชุจุงุฑ ุงูุฃุฏุงุก ุงูุดุงูู