# ๐ง ุฅุตูุงุญ ูุดููุฉ ุฑูุน ุตูุฑ ุงูุจุฑููุงูู

## ๐ ุงููุดููุฉ ุงูููุชุดูุฉ:

```
๐ค ุฑูุน ุตูุฑุฉ ุจุฑููุงูู: { file: 'ุบูุฑ ููุฌูุฏ', body: {}, headers: 'application/json' }
```

## ๐ ุงูุณุจุจ:

ุฏุงูุฉ `apiRequest` ูู `client/src/lib/queryClient.ts` ูุงูุช ุชุถูู `Content-Type: application/json` ุชููุงุฆูุงู ูุฌููุน ุงูุทูุจุงุชุ ููุฐุง ููุณุฏ `FormData` ูุฑูุน ุงููููุงุช.

## โ ุงูุญู ุงููุทุจู:

### **1. ุฅุตูุงุญ apiRequest ููุชุนุงูู ูุน FormData:**

```typescript
// ูุจู ุงูุฅุตูุงุญ โ
headers: {
  'Content-Type': 'application/json',  // ููุณุฏ FormData
  ...headers
},
body: body ? JSON.stringify(body) : undefined,  // ูุญูู FormData ุฅูู string

// ุจุนุฏ ุงูุฅุตูุงุญ โ
let requestHeaders: Record<string, string> = { ...headers };
let requestBody: any = body;

// ุฅุฐุง ูุงู FormDataุ ูุง ูุถูู Content-Type (ุงููุชุตูุญ ูุถููู ุชููุงุฆูุงู)
if (!(body instanceof FormData)) {
  requestHeaders['Content-Type'] = 'application/json';
  requestBody = body ? JSON.stringify(body) : undefined;
}
```

### **2. ุงูููููุงุช ุงูุชู ุชุณุชููุฏ ูู ุงูุฅุตูุงุญ:**

- โ `ProfileModal.tsx` - ูุณุชุฎุฏู `apiRequest` ูุฑูุน ุงูุตูุฑ
- โ `ProfileImageUpload.tsx` - ูุณุชุฎุฏู `fetch` ูุจุงุดุฑุฉ (ูุงู ูุนูู ุจุงููุนู)

### **3. ุงููุชูุฌุฉ ุงููุชููุนุฉ:**

**ูุจู ุงูุฅุตูุงุญ:**

```
๐ค ุฑูุน ุตูุฑุฉ ุจุฑููุงูู: { file: 'ุบูุฑ ููุฌูุฏ', body: {}, headers: 'application/json' }
โ 400 Bad Request: ูู ูุชู ุฑูุน ุฃู ููู
```

**ุจุนุฏ ุงูุฅุตูุงุญ:**

```
๐ค ุฑูุน ุตูุฑุฉ ุจุฑููุงูู: { file: 'ููุฌูุฏ', body: { userId: '61' }, headers: 'multipart/form-data' }
โ 200 OK: ุชู ุฑูุน ุงูุตูุฑุฉ ุจูุฌุงุญ
```

## ๐ฏ ููุฒุงุช ุงูุฅุตูุงุญ:

1. **ุฏุนู ุดุงูู:** ูุฏุนู JSON ู FormData ุชููุงุฆูุงู
2. **ุชูุงูู ูุน ุงูุฅุตุฏุงุฑุงุช ุงูุณุงุจูุฉ:** ูุง ููุณุฑ ุฃู ููุฏ ููุฌูุฏ
3. **ุฐูู:** ููุชุดู ููุน ุงูุจูุงูุงุช ููุชุนุงูู ูุนูุง ุจุดูู ุตุญูุญ
4. **ุขูู:** ูุญุงูุธ ุนูู ุฌููุน ุงููุธุงุฆู ุงูุฃุฎุฑู ูู apiRequest

## ๐งช ุทุฑููุฉ ุงูุงุฎุชุจุงุฑ:

1. ุงุฑูุน ุตูุฑุฉ ุจุฑููุงูู ูู ProfileModal
2. ุงุฑูุน ุตูุฑุฉ ุจุฑููุงูู ูู ProfileImageUpload
3. ุชุญูู ูู ุงูุณุฌูุงุช ูู ุงูุฎุงุฏู
4. ุชุฃูุฏ ูู ุธููุฑ `{ file: 'ููุฌูุฏ' }` ุจุฏูุงู ูู `{ file: 'ุบูุฑ ููุฌูุฏ' }`

ุชู ุฅุตูุงุญ ุงููุดููุฉ ุจุงููุงูู! ๐
