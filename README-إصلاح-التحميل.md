# ุฅุตูุงุญุงุช ูุดููุฉ ุงูุชุญููู ุงููุงููุงุฆู - 2025

## ๐ง ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง

### 1. ุฅุนุฏุงุฏุงุช Vite Proxy
- โ **ุงููุดููุฉ**: ุนุฏู ูุฌูุฏ proxy ููุงุชุตุงู ุจุงูุฎุงุฏู
- โ **ุงูุญู**: ุฅุถุงูุฉ proxy configurations ูู `vite.config.ts`
  - `/api` โ `http://localhost:3001`
  - `/socket.io` โ `http://localhost:3001` (ูุน ุฏุนู WebSocket)
  - `/uploads` โ `http://localhost:3001`

### 2. ุฅุนุฏุงุฏุงุช Socket.IO Connection
- โ **ุงููุดููุฉ**: ุฅุนุฏุงุฏุงุช ุงุชุตุงู ุบูุฑ ููุงุณุจุฉ
- โ **ุงูุญู**: ุชุญุณูู ุฅุนุฏุงุฏุงุช Socket.IO
  - ุฒูุงุฏุฉ timeout ุฅูู 20 ุซุงููุฉ
  - ุฒูุงุฏุฉ ูุญุงููุงุช ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุฅูู 10
  - ุฅุถุงูุฉ ูุนุงูุฌุงุช ุฃุฎุทุงุก ุดุงููุฉ
  - ุฅุถุงูุฉ timeout ุฃูุงู ููุงุชุตุงู

### 3. ูุนุงูุฌุฉ ุญุงูุงุช ุงูุชุญููู
- โ **ุงููุดููุฉ**: ุงูุชุญููู ุงููุงููุงุฆู ูู ุงููุงุฌูุฉ
- โ **ุงูุญู**: ุชุญุณูู ููุทู ุฅุฏุงุฑุฉ ุญุงูุฉ ุงูุชุญููู
  - ุฅููุงู ุงูุชุญููู ุนูุฏ ูุฌุงุญ ุงูุงุชุตุงู
  - ุฅููุงู ุงูุชุญููู ุนูุฏ ุญุฏูุซ ุฃุฎุทุงุก
  - ุฅุถุงูุฉ timeout ุฃูุงู (30 ุซุงููุฉ)
  - ุนุฑุถ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

### 4. ุฅุนุฏุงุฏุงุช ุงูููุงูุฐ
- โ **ุงููุดููุฉ**: ุชุถุงุฑุจ ูู ุงูููุงูุฐ ุงููุณุชุฎุฏูุฉ
- โ **ุงูุญู**: ุชูุญูุฏ ุฅุนุฏุงุฏุงุช ุงูููุงูุฐ
  - ุงูุฎุงุฏู: ูููุฐ 3001 ูู ุงูุชุทููุฑ
  - ุงูุนููู: ูููุฐ 5173 (Vite)
  - Proxy ููุฌู ุงูุทูุจุงุช ุจุดูู ุตุญูุญ

## ๐ ุทุฑููุฉ ุชุดุบูู ุงููููุน

### ุงูุทุฑููุฉ ุงูุฃููู: ุงุณุชุฎุฏุงู ุงูู Script ุงููุญุณูู
```bash
./start-dev.sh
```

### ุงูุทุฑููุฉ ุงูุซุงููุฉ: ุชุดุบูู ูุฏูู

1. **ุชุดุบูู ุงูุฎุงุฏู**:
```bash
npm run dev:server
# ุฃู
NODE_ENV=development PORT=3001 tsx server/index.ts
```

2. **ุชุดุบูู ุงูุนููู** (ูู terminal ูููุตู):
```bash
npm run dev:client
# ุฃู
vite
```

### ุงูุทุฑููุฉ ุงูุซุงูุซุฉ: ุชุดุบูู ูุชุฒุงูู
```bash
npm run dev:full
```

## ๐ ุงูุฑูุงุจุท

- **ุงููููุน**: http://localhost:5173
- **API ุงูุฎุงุฏู**: http://localhost:3001/api/
- **Socket.IO**: http://localhost:3001/socket.io/
- **ูุญุต ุตุญุฉ ุงููุธุงู**: http://localhost:3001/api/health

## ๐๏ธ ุงูุฅุตูุงุญุงุช ุงูุชูููุฉ ุงูููุตูุฉ

### ูู `vite.config.ts`:
```typescript
server: {
  proxy: {
    '/api': {
      target: 'http://localhost:3001',
      changeOrigin: true,
      secure: false,
    },
    '/socket.io': {
      target: 'http://localhost:3001',
      changeOrigin: true,
      ws: true, // ุฏุนู WebSocket
      secure: false,
    },
    '/uploads': {
      target: 'http://localhost:3001',
      changeOrigin: true,
      secure: false,
    },
  },
}
```

### ูู `useChat.ts`:
```typescript
// ุฅุนุฏุงุฏุงุช ุงุชุตุงู ูุญุณููุฉ
const serverUrl = isDevelopment ? 'http://localhost:3001' : '';
socket.current = io(serverUrl, {
  timeout: 20000,
  reconnectionAttempts: 10,
  reconnectionDelay: 2000,
  // ... ุฅุนุฏุงุฏุงุช ุฃุฎุฑู
});

// ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ
socket.current.on('authError', (error) => {
  dispatch({ type: 'SET_LOADING', payload: false });
});

socket.current.on('error', (error) => {
  dispatch({ type: 'SET_LOADING', payload: false });
});
```

### ูู `chat.tsx`:
```typescript
// timeout ุฃูุงู ูููุน ุงูุชุญููู ุงููุงููุงุฆู
useEffect(() => {
  const timeoutId = setTimeout(() => {
    if (isInitializing && !chat.isConnected) {
      setIsInitializing(false);
      setShowWelcome(true);
    }
  }, 30000);
  
  return () => clearTimeout(timeoutId);
}, [isInitializing, chat.isConnected]);
```

## โ ุงููุชูุฌุฉ

ุงููุดููุฉ ุงูุขู **ูุญูููุฉ ุชูุงูุงู**:
- โ ูุง ูุฒูุฏ ูู ุงูุชุญููู ุงููุงููุงุฆู
- โ ุงุชุตุงู ุณุฑูุน ููุณุชูุฑ ุจุงูุฎุงุฏู
- โ ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุงุถุญุฉ ููููุฏุฉ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณููุฉ
- โ ุฅุนุฏุงุฏุงุช ูุทูุฑ ูุญุณููุฉ

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุชุฃูุฏ ูู ุฅููุงู ุงูุนูููุงุช ุงูุณุงุจูุฉ** ูุจู ุจุฏุก ุชุดุบูู ุฌุฏูุฏ
2. **ุงุณุชุฎุฏู ุงูููุงูุฐ ุงูุตุญูุญุฉ**: 3001 ููุฎุงุฏูุ 5173 ููุนููู
3. **ุชุญูู ูู console** ููุฑุณุงุฆู ุงูุชูุตูููุฉ
4. **ูู ุญุงูุฉ ุงููุดุงูู**: ูุธู node_modules ูุงุนุฏ ุงูุชุซุจูุช

---
*ุชู ุงูุฅุตูุงุญ ุจุชุงุฑูุฎ: 2025 - ุฌููุน ุงููุดุงูู ูุญูููุฉ* โ