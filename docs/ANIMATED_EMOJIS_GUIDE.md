# دليل نظام السمايلات المتحركة (Animated Emojis)

## نظرة عامة
تم إضافة نظام سمايلات متحركة (GIF Emojis) للشات مع مجموعتين: كلاسيكية وحديثة.

## المكونات الرئيسية

### 1. ملف البيانات
- **الموقع**: `/client/src/data/animatedEmojis.json`
- **المحتوى**: يحتوي على تعريفات السمايلات وروابط الصور

### 2. مكون AnimatedEmojiPicker
- **الموقع**: `/client/src/components/chat/AnimatedEmojiPicker.tsx`
- **الوظيفة**: عرض قائمة السمايلات المتحركة في تبويبات

### 3. أدوات المعالجة
- **الموقع**: `/client/src/utils/animatedEmojiUtils.tsx`
- **الوظائف**:
  - `parseAnimatedEmojis`: تحويل أكواد السمايلات إلى صور
  - `convertTextToAnimatedEmojis`: تحويل النصوص التلقائي
  - `renderMessageWithAnimatedEmojis`: دمج السمايلات مع المحتوى

### 4. التحديثات في MessageArea
- إضافة زر السمايلات المتحركة (Sparkles icon)
- معالج `handleAnimatedEmojiSelect`
- دمج معالج السمايلات مع عرض الرسائل

## كيفية الاستخدام

### للمستخدم:
1. اضغط على زر السمايلات المتحركة (✨) بجانب صندوق الكتابة
2. اختر من التبويبات: كلاسيكية أو حديثة
3. انقر على السمايل المطلوب لإدراجه في الرسالة
4. يمكن أيضاً كتابة الأكواد مباشرة مثل `:)` أو `:D`

### صيغة السمايلات في الرسائل:
- يتم حفظ السمايلات بصيغة: `[[emoji:id:url]]`
- مثال: `[[emoji:smile:/assets/emojis/classic/smile.gif]]`

## السمايلات المتوفرة

### كلاسيكية:
- `:)` - ابتسامة
- `:D` - ضحك
- `;)` - غمزة
- `:P` - لسان
- `8)` - رائع
- `:(` - بكاء
- `>:(` - غضب
- `<3` - قلب
- `:*` - قبلة
- `:/` - حائر
- `:O` - صدمة
- `}:)` - شيطان

### حديثة:
- `:party:` - احتفال
- `:fire:` - نار
- `:+1:` - إعجاب
- `:clap:` - تصفيق
- `:love:` - حب
- `:rofl:` - ضحك شديد
- `:think:` - تفكير
- `:wave:` - تحية
- `:dance:` - رقص
- `:rainbow:` - قوس قزح
- `:star:` - نجمة
- `:rocket:` - صاروخ

## إضافة سمايلات جديدة

1. أضف ملف GIF في المجلد المناسب:
   - `/client/public/assets/emojis/classic/` للكلاسيكية
   - `/client/public/assets/emojis/modern/` للحديثة

2. حدث ملف `animatedEmojis.json`:
```json
{
  "id": "new_emoji",
  "name": "اسم السمايل",
  "url": "/assets/emojis/category/new_emoji.gif",
  "code": ":new:"
}
```

## ملاحظات تقنية

- الصور يجب أن تكون بصيغة GIF
- الحجم المُوصى به: 32x32 أو 64x64 بكسل
- يتم تحميل الصور بشكل lazy loading
- السمايلات تظهر بحجم 32x32 بكسل في الرسائل
- يمكن تكبير السمايل عند تمرير الماوس عليه

## الأنماط CSS

تم إضافة الأنماط التالية في `/client/src/index.css`:
- `.animated-emoji` - التنسيق الأساسي للسمايلات
- `.animated-emoji:hover` - تأثير التكبير
- `.animated-emoji-picker` - تأثير ظهور القائمة

## التوافق

- يعمل على جميع المتصفحات الحديثة
- يدعم الأجهزة المحمولة
- متوافق مع نظام المنشن والتفاعلات الموجود