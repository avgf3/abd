# ุชูุฑูุฑ ุฅุตูุงุญ ูุดุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุณุฌูู ุงูุฏุฎูู

## ๐ ููุฎุต ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง

### ุงููุดููุฉ ุงูุฃุณุงุณูุฉ:
ูุงูุช ุงููุดููุฉ ูู ุนุฏู ุงุชุตุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญุ ููุง ุฃุฏู ุฅูู:
1. **ุนุฏู ุญูุธ ุจูุงูุงุช ุงูุฃุนุถุงุก**: ูุฃู `DATABASE_URL` ูุงูุช ูุงุฑุบุฉ
2. **ุนุฏู ุงุณุชุฏุนุงุก ุงูุงุณู ูุงูุฑูู ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู**: ูุฃู ุงูุจูุงูุงุช ูู ุชูู ูุญููุธุฉ
3. **ูุดู ุชุณุฌูู ุงูุนุถููุฉ**: ูููุณ ุงูุณุจุจ

## ๐ง ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅุตูุงุญ ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ูุจู ุงูุฅุตูุงุญ:**
```env
DATABASE_URL=
```

**ุจุนุฏ ุงูุฅุตูุงุญ:**
```env
DATABASE_URL=sqlite:./data/chat.db
```

### 2. ุชุญุณูู ููุฏ database-adapter.ts

ุชู ุชุนุฏูู ุงูููุฏ ููุนุทู ุฃููููุฉ ูู SQLite ุนูุฏูุง ูููู ุงูุฑุงุจุท ูุจุฏุฃ ุจู `sqlite:` ุฃู ุนูุฏูุง ูููู ูุงุฑุบุงู:

```typescript
// ุงุณุชุฎุฏู SQLite ุฅุฐุง ูุงู ุงูุฑุงุจุท ูุจุฏุฃ ุจู sqlite: ุฃู ูุงู ูุงุฑุบุงู
if (!databaseUrl || databaseUrl.startsWith('sqlite:')) {
  try {
    const sqliteResult = initSQLiteFallback();
    if (sqliteResult) {
      console.log("โ ุชู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุจูุงูุงุช SQLite");
      return {
        db: sqliteResult.db,
        type: 'sqlite',
        close: () => {}
      };
    }
  } catch (error) {
    console.error("โ ูุดู ูู ุชููุฆุฉ SQLite:", error);
  }
}
```

### 3. ุฅูุดุงุก ูุฌูุฏ ุงูุจูุงูุงุช

```bash
mkdir -p data
```

## โ ุงููุชุงุฆุฌ ุจุนุฏ ุงูุฅุตูุงุญ

### ุชุณุฌูู ุงูุนุถููุฉ:
```bash
curl -X POST http://localhost:10000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"username":"test_user","password":"123456","confirmPassword":"123456","userType":"member","gender":"male"}'
```

**ุงููุชูุฌุฉ:**
```json
{
  "user": {
    "id": 6,
    "username": "test_user",
    "password": "123456",
    "userType": "member",
    "role": "member",
    "profileImage": "/default_avatar.svg",
    "status": null,
    "gender": "male",
    "isOnline": 1,
    "lastSeen": "2025-07-20T05:27:56.852Z",
    "joinDate": "2025-07-20T05:27:56.852Z",
    "createdAt": "2025-07-20T05:27:56.852Z"
  },
  "message": "ุชู ุงูุชุณุฌูู ุจูุฌุงุญ"
}
```

### ุชุณุฌูู ุงูุฏุฎูู:
```bash
curl -X POST http://localhost:10000/api/auth/member \
  -H "Content-Type: application/json" \
  -d '{"username":"ุนุจุฏุงููุฑูู","password":"ุนุจุฏุงููุฑูู22333"}'
```

**ุงููุชูุฌุฉ:**
```json
{
  "user": {
    "id": 3,
    "username": "ุนุจุฏุงููุฑูู",
    "password": "ุนุจุฏุงููุฑูู22333",
    "userType": "owner",
    "role": "owner",
    "status": "ูุงูู ุงููููุน",
    "gender": "ุฐูุฑ",
    "country": "ุงูุณุนูุฏูุฉ",
    "relation": "ูุฑุชุจุท",
    "bio": "ูุงูู ุงููููุน"
  }
}
```

## ๐๏ธ ุญุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุชู ูุญุต ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุฃููุฏ ูุฌูุฏ ุงููุณุชุฎุฏููู ุงูุชุงูููู:

| ุงููุนุฑู | ุงูุงุณู | ุงูููุน | ุงูุญุงูุฉ | ุงูุฌูุณ | ุงูุจูุฏ |
|---------|--------|-------|--------|--------|--------|
| 1 | admin | owner | - | - | - |
| 2 | testuser | member | - | - | - |
| 3 | ุนุจุฏุงููุฑูู | owner | ูุงูู ุงููููุน | ุฐูุฑ | ุงูุณุนูุฏูุฉ |
| 4 | ุนุจูุฏ | owner | ูุดุฑู ูุคูุช | ุฐูุฑ | ุงูุนุฑุงู |
| 5 | ุนุถู_ุฌุฏูุฏ | member | - | male | - |
| 6 | test_user | member | - | male | - |

## ๐ฏ ุงูุฎูุงุตุฉ

โ **ุชู ุญู ุฌููุน ุงููุดุงูู:**
1. ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูู ุจุดูู ุตุญูุญ
2. ุชุณุฌูู ุงูุนุถููุฉ ูุนูู
3. ุชุณุฌูู ุงูุฏุฎูู ูุนูู ููุณุชุฑุฌุน ุฌููุน ุงูุจูุงูุงุช (ุงูุงุณูุ ุงูุฑููุ ููู ุงูุชูุงุตูู)
4. ุงูุจูุงูุงุช ุชูุญูุธ ุจุดูู ุฏุงุฆู ูู ูุงุนุฏุฉ SQLite

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ููุชุฃูุฏ ูู ุนูู ูู ุดูุก:

1. **ุชุดุบูู ุงูุฎุงุฏู:**
   ```bash
   npm run dev
   ```

2. **ุงุฎุชุจุงุฑ ุชุณุฌูู ุนุถููุฉ ุฌุฏูุฏุฉ ูู ุงููุงุฌูุฉ**

3. **ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู ูู ุงููุงุฌูุฉ**

4. **ุงูุชุฃูุฏ ูู ุธููุฑ ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ**

## ๐ ุงููููุงุช ุงูููุนุฏูุฉ

1. `.env` - ุฅุถุงูุฉ ุฑุงุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช SQLite
2. `server/database-adapter.ts` - ุชุญุณูู ููุทู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
3. `data/` - ูุฌูุฏ ุฌุฏูุฏ ูุญูุธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุชู ุฅุตูุงุญ ุฌููุน ุงููุดุงูู ุงููุฐููุฑุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช ุชุนูู ุจุดูู ูุซุงูู ุงูุขู! ๐