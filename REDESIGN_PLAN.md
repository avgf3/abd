# ğŸ¨ Ø®Ø·Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø´Ø§Ù…Ù„Ø©
## Ø§Ù„Ù‡Ø¯Ù: Ù†Ø³Ø® ØªØ¬Ø±Ø¨Ø© arabic.chat Ù„ÙƒÙ† Ø¨ÙƒÙˆØ¯Ù†Ø§ Ø§Ù„Ù‚ÙˆÙŠ

---

## ğŸ“‹ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: ØªØ­Ù„ÙŠÙ„ ÙˆÙÙ‡Ù… (ÙŠÙˆÙ…ÙŠÙ†)

### Ø§Ù„ÙŠÙˆÙ… 1: ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªØµØ§Ù…ÙŠÙ…
```bash
# Ù†ÙØªØ­ Ù…ÙˆÙ‚Ø¹Ù‡Ù… ÙˆÙ†Ø­Ù„Ù„ ÙƒÙ„ Ø´ÙŠ:

1. Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ:
   - Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª
   - Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©
   - Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª CSS
   - Ø§Ù„Ù€ Animations
   - Layout structure

2. Ø§Ù„Ø­ÙˆØ§Ø¦Ø·:
   - Ø´ÙƒÙ„ Ø§Ù„Ù…Ù†Ø´ÙˆØ±
   - Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª
   - Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª
   - Ø§Ù„Ù…Ø³Ø§ÙØ§Øª (spacing)
   - Ø§Ù„Ø£Ù„ÙˆØ§Ù†

3. Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª:
   - Ø­Ø¬Ù… Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
   - Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
   - Ø´ÙƒÙ„ ÙƒÙ„ Ø¥Ø´Ø¹Ø§Ø±
   - Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù†

4. Navigation:
   - Bottom tabs
   - Sidebar
   - Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…
```

### Ø§Ù„ÙŠÙˆÙ… 2: ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù
```javascript
// Ù†ÙÙ‡Ù… ÙƒÙŠÙ ÙŠØ´ØªØºÙ„ ÙƒÙ„ Ø´ÙŠ:

1. Ø±ÙØ¹ Ø§Ù„ØµÙˆØ±:
   - Request/Response flow
   - ÙƒÙŠÙ ÙŠØ¹Ø±Ø¶ Ø§Ù„Ù€ preview
   - Ø§Ù„Ù€ animations

2. Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„:
   - Polling vs WebSocket
   - Retry logic
   - User feedback

3. Optimistic UI:
   - Ù…ØªÙ‰ ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
   - ÙƒÙŠÙ ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ÙØ´Ù„
   - Ø§Ù„Ù€ animations
```

---

## ğŸš€ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ù„Ø¨Ù†Ø§Ø¡ (3-4 Ø£Ø³Ø§Ø¨ÙŠØ¹)

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 1: Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª ÙˆØ§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ

#### 1. Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª
```typescript
// client/src/components/profile/ProfileFrame.tsx
import { motion } from 'framer-motion';
import './ProfileFrame.css';

interface ProfileFrameProps {
  level: number;
  children: React.ReactNode;
  size?: 'small' | 'medium' | 'large';
}

export default function ProfileFrame({ level, children, size = 'medium' }: ProfileFrameProps) {
  const getFrameType = (level: number) => {
    if (level >= 100) return 'legendary';
    if (level >= 50) return 'diamond';
    if (level >= 30) return 'gold';
    if (level >= 15) return 'silver';
    return 'bronze';
  };

  const frameType = getFrameType(level);
  
  const sizeClasses = {
    small: 'w-16 h-16',
    medium: 'w-32 h-32',
    large: 'w-48 h-48'
  };

  return (
    <div className={`relative ${sizeClasses[size]}`}>
      {/* Ø§Ù„ØµÙˆØ±Ø© */}
      <div className="relative w-full h-full rounded-full overflow-hidden">
        {children}
      </div>
      
      {/* Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ù…ØªØ­Ø±Ùƒ */}
      <motion.div
        className={`absolute inset-0 frame-${frameType}`}
        animate={{
          rotate: 360,
        }}
        transition={{
          duration: 10,
          repeat: Infinity,
          ease: "linear"
        }}
      />
      
      {/* Ø§Ù„ÙˆÙ‡Ø¬ */}
      <div className={`absolute inset-0 frame-glow-${frameType}`} />
      
      {/* Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰ */}
      <div className={`absolute -bottom-2 -right-2 frame-badge-${frameType}`}>
        <span className="text-xs font-bold">{level}</span>
      </div>
    </div>
  );
}
```

#### 2. CSS Ù„Ù„Ø¥Ø·Ø§Ø±Ø§Øª (Ù…Ø«Ù„ Ù…ÙˆÙ‚Ø¹Ù‡Ù… ØªÙ…Ø§Ù…Ø§Ù‹!)
```css
/* client/src/components/profile/ProfileFrame.css */

/* Bronze Frame */
.frame-bronze {
  border: 3px solid;
  border-radius: 50%;
  border-image: linear-gradient(45deg, #cd7f32, #a0522d) 1;
  box-shadow: 0 0 10px rgba(205, 127, 50, 0.5);
}

.frame-glow-bronze {
  border-radius: 50%;
  animation: glow-bronze 2s ease-in-out infinite;
}

@keyframes glow-bronze {
  0%, 100% { box-shadow: 0 0 5px #cd7f32, 0 0 10px #cd7f32; }
  50% { box-shadow: 0 0 15px #cd7f32, 0 0 25px #cd7f32; }
}

/* Silver Frame */
.frame-silver {
  border: 3px solid;
  border-radius: 50%;
  border-image: linear-gradient(45deg, #c0c0c0, #e8e8e8, #a8a8a8) 1;
  box-shadow: 0 0 15px rgba(192, 192, 192, 0.6);
}

.frame-glow-silver {
  border-radius: 50%;
  animation: glow-silver 2s ease-in-out infinite;
}

@keyframes glow-silver {
  0%, 100% { box-shadow: 0 0 8px #c0c0c0, 0 0 15px #c0c0c0; }
  50% { box-shadow: 0 0 20px #c0c0c0, 0 0 30px #c0c0c0; }
}

/* Gold Frame */
.frame-gold {
  border: 4px solid;
  border-radius: 50%;
  border-image: linear-gradient(45deg, #ffd700, #ffed4e, #ffc107) 1;
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);
}

.frame-glow-gold {
  border-radius: 50%;
  animation: glow-gold 1.5s ease-in-out infinite;
}

@keyframes glow-gold {
  0%, 100% { 
    box-shadow: 0 0 10px #ffd700, 0 0 20px #ffd700, 0 0 30px #ffd700;
  }
  50% { 
    box-shadow: 0 0 20px #ffd700, 0 0 35px #ffd700, 0 0 50px #ffd700;
  }
}

/* Diamond Frame */
.frame-diamond {
  border: 4px solid;
  border-radius: 50%;
  background: linear-gradient(45deg, #b9f2ff, #00f0ff, #0080ff);
  animation: rotate-diamond 3s linear infinite;
  box-shadow: 0 0 25px rgba(0, 240, 255, 0.9);
}

.frame-glow-diamond {
  border-radius: 50%;
  animation: glow-diamond 1.5s ease-in-out infinite;
}

@keyframes glow-diamond {
  0%, 100% { 
    box-shadow: 
      0 0 15px #00f0ff, 
      0 0 30px #00f0ff, 
      0 0 45px #00f0ff,
      inset 0 0 15px rgba(0, 240, 255, 0.3);
  }
  50% { 
    box-shadow: 
      0 0 25px #00f0ff, 
      0 0 45px #00f0ff, 
      0 0 60px #00f0ff,
      inset 0 0 25px rgba(0, 240, 255, 0.5);
  }
}

@keyframes rotate-diamond {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}

/* Legendary Frame - Ø£Ù‚ÙˆÙ‰ Ø¥Ø·Ø§Ø±! */
.frame-legendary {
  border: 5px solid;
  border-radius: 50%;
  background: linear-gradient(45deg, 
    #ff0000, #ff7f00, #ffff00, #00ff00, 
    #0000ff, #4b0082, #9400d3, #ff0000
  );
  background-size: 400% 400%;
  animation: rainbow 3s ease infinite;
  box-shadow: 
    0 0 30px rgba(255, 0, 0, 0.8),
    0 0 40px rgba(255, 127, 0, 0.8),
    0 0 50px rgba(255, 255, 0, 0.8);
}

@keyframes rainbow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.frame-glow-legendary {
  border-radius: 50%;
  animation: glow-legendary 1s ease-in-out infinite;
}

@keyframes glow-legendary {
  0%, 100% { 
    box-shadow: 
      0 0 20px rgba(255, 0, 0, 0.8),
      0 0 40px rgba(255, 127, 0, 0.8),
      0 0 60px rgba(255, 255, 0, 0.8),
      inset 0 0 30px rgba(255, 255, 255, 0.3);
  }
  50% { 
    box-shadow: 
      0 0 35px rgba(255, 0, 0, 1),
      0 0 55px rgba(255, 127, 0, 1),
      0 0 80px rgba(255, 255, 0, 1),
      inset 0 0 50px rgba(255, 255, 255, 0.5);
  }
}

/* Ø´Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰ */
.frame-badge-bronze,
.frame-badge-silver,
.frame-badge-gold,
.frame-badge-diamond,
.frame-badge-legendary {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  border: 2px solid white;
}

.frame-badge-bronze { background: linear-gradient(135deg, #cd7f32, #a0522d); }
.frame-badge-silver { background: linear-gradient(135deg, #c0c0c0, #a8a8a8); }
.frame-badge-gold { background: linear-gradient(135deg, #ffd700, #ffc107); }
.frame-badge-diamond { background: linear-gradient(135deg, #00f0ff, #0080ff); }
.frame-badge-legendary { 
  background: linear-gradient(135deg, #ff0000, #ff7f00, #ffff00);
  animation: badge-pulse 1s ease-in-out infinite;
}

@keyframes badge-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}
```

#### 3. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª ÙÙŠ ProfileModal
```typescript
// ØªØ­Ø¯ÙŠØ« ProfileModal.tsx
import ProfileFrame from './ProfileFrame';

// ÙÙŠ Ø§Ù„Ù€ render:
<ProfileFrame level={user.level || 0} size="large">
  <img
    src={getImageSrc(user.profileImage || '/default_avatar.svg')}
    alt={user.username}
    className="w-full h-full object-cover"
  />
</ProfileFrame>
```

---

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 2: Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª

```typescript
// client/src/components/wall/CommentThread.tsx
import { useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { MessageCircle, Heart, Reply } from 'lucide-react';

interface Comment {
  id: number;
  userId: number;
  username: string;
  avatar: string;
  content: string;
  likes: number;
  replies?: Comment[];
  timestamp: Date;
}

interface CommentThreadProps {
  comment: Comment;
  depth?: number;
  maxDepth?: number;
  onReply?: (commentId: number, content: string) => void;
  onLike?: (commentId: number) => void;
}

export default function CommentThread({
  comment,
  depth = 0,
  maxDepth = 3,
  onReply,
  onLike
}: CommentThreadProps) {
  const [showReplies, setShowReplies] = useState(false);
  const [replying, setReplying] = useState(false);
  const [replyText, setReplyText] = useState('');
  const [liked, setLiked] = useState(false);

  const handleReply = () => {
    if (replyText.trim() && onReply) {
      onReply(comment.id, replyText);
      setReplyText('');
      setReplying(false);
      setShowReplies(true);
    }
  };

  const handleLike = () => {
    setLiked(!liked);
    onLike?.(comment.id);
  };

  return (
    <motion.div
      initial={{ opacity: 0, x: -20 }}
      animate={{ opacity: 1, x: 0 }}
      exit={{ opacity: 0, x: -20 }}
      className="mb-3"
      style={{ marginRight: `${depth * 20}px` }}
    >
      {/* Ø§Ù„ØªØ¹Ù„ÙŠÙ‚ */}
      <div className="flex gap-3 bg-gray-800/50 rounded-lg p-3 hover:bg-gray-800/70 transition-colors">
        {/* Ø§Ù„ØµÙˆØ±Ø© */}
        <img
          src={comment.avatar}
          alt={comment.username}
          className="w-10 h-10 rounded-full flex-shrink-0"
        />
        
        {/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */}
        <div className="flex-1 min-w-0">
          {/* Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ÙˆÙ‚Øª */}
          <div className="flex items-center gap-2 mb-1">
            <span className="font-semibold text-sm">{comment.username}</span>
            <span className="text-xs text-gray-400">
              {formatTimeAgo(comment.timestamp)}
            </span>
          </div>
          
          {/* Ø§Ù„Ù†Øµ */}
          <p className="text-sm text-gray-200 mb-2 break-words">
            {comment.content}
          </p>
          
          {/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */}
          <div className="flex items-center gap-4 text-xs">
            {/* Ø¥Ø¹Ø¬Ø§Ø¨ */}
            <button
              onClick={handleLike}
              className={`flex items-center gap-1 transition-colors ${
                liked ? 'text-red-500' : 'text-gray-400 hover:text-red-400'
              }`}
            >
              <Heart className={`w-4 h-4 ${liked ? 'fill-current' : ''}`} />
              <span>{comment.likes + (liked ? 1 : 0)}</span>
            </button>
            
            {/* Ø±Ø¯ */}
            {depth < maxDepth && (
              <button
                onClick={() => setReplying(!replying)}
                className="flex items-center gap-1 text-gray-400 hover:text-blue-400 transition-colors"
              >
                <Reply className="w-4 h-4" />
                <span>Ø±Ø¯</span>
              </button>
            )}
            
            {/* Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø¯ÙˆØ¯ */}
            {comment.replies && comment.replies.length > 0 && (
              <button
                onClick={() => setShowReplies(!showReplies)}
                className="flex items-center gap-1 text-gray-400 hover:text-blue-400 transition-colors"
              >
                <MessageCircle className="w-4 h-4" />
                <span>
                  {showReplies ? 'Ø¥Ø®ÙØ§Ø¡' : 'Ø¹Ø±Ø¶'} Ø§Ù„Ø±Ø¯ÙˆØ¯ ({comment.replies.length})
                </span>
              </button>
            )}
          </div>
        </div>
      </div>

      {/* Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø±Ø¯ */}
      <AnimatePresence>
        {replying && (
          <motion.div
            initial={{ opacity: 0, height: 0 }}
            animate={{ opacity: 1, height: 'auto' }}
            exit={{ opacity: 0, height: 0 }}
            className="mt-2 mr-12"
          >
            <div className="flex gap-2">
              <input
                type="text"
                value={replyText}
                onChange={(e) => setReplyText(e.target.value)}
                onKeyPress={(e) => e.key === 'Enter' && handleReply()}
                placeholder={`Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ ${comment.username}...`}
                className="flex-1 bg-gray-700 text-white rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                autoFocus
              />
              <button
                onClick={handleReply}
                className="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition-colors"
              >
                Ø¥Ø±Ø³Ø§Ù„
              </button>
            </div>
          </motion.div>
        )}
      </AnimatePresence>

      {/* Ø§Ù„Ø±Ø¯ÙˆØ¯ Ø§Ù„Ù…ØªØ¯Ø§Ø®Ù„Ø© */}
      <AnimatePresence>
        {showReplies && comment.replies && comment.replies.length > 0 && (
          <motion.div
            initial={{ opacity: 0, height: 0 }}
            animate={{ opacity: 1, height: 'auto' }}
            exit={{ opacity: 0, height: 0 }}
            className="mt-2"
          >
            {comment.replies.map((reply) => (
              <CommentThread
                key={reply.id}
                comment={reply}
                depth={depth + 1}
                maxDepth={maxDepth}
                onReply={onReply}
                onLike={onLike}
              />
            ))}
          </motion.div>
        )}
      </AnimatePresence>
    </motion.div>
  );
}

// Ø¯Ø§Ù„Ø© Ù…Ø³Ø§Ø¹Ø¯Ø© Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ÙˆÙ‚Øª
function formatTimeAgo(date: Date): string {
  const seconds = Math.floor((new Date().getTime() - date.getTime()) / 1000);
  
  if (seconds < 60) return 'Ø§Ù„Ø¢Ù†';
  if (seconds < 3600) return `Ù…Ù†Ø° ${Math.floor(seconds / 60)} Ø¯Ù‚ÙŠÙ‚Ø©`;
  if (seconds < 86400) return `Ù…Ù†Ø° ${Math.floor(seconds / 3600)} Ø³Ø§Ø¹Ø©`;
  return `Ù…Ù†Ø° ${Math.floor(seconds / 86400)} ÙŠÙˆÙ…`;
}
```

---

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 3: Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…

```typescript
// client/src/components/notifications/NotificationsModal.tsx
import { useState, useEffect } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { X, MessageCircle, Heart, UserPlus, Gift, Bell, Check } from 'lucide-react';
import { api } from '@/lib/queryClient';

interface Notification {
  id: number;
  type: 'message' | 'like' | 'friend' | 'gift' | 'mention';
  userId: number;
  username: string;
  avatar: string;
  content: string;
  timestamp: Date;
  read: boolean;
}

interface NotificationsModalProps {
  isOpen: boolean;
  onClose: () => void;
}

export default function NotificationsModal({ isOpen, onClose }: NotificationsModalProps) {
  const [activeTab, setActiveTab] = useState<'all' | 'message' | 'like' | 'friend' | 'gift'>('all');
  const [notifications, setNotifications] = useState<Notification[]>([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    if (isOpen) {
      fetchNotifications();
    }
  }, [isOpen, activeTab]);

  const fetchNotifications = async () => {
    setLoading(true);
    try {
      const response = await api.get(`/api/notifications?type=${activeTab}`);
      setNotifications(response.data);
    } catch (error) {
      console.error('Failed to fetch notifications:', error);
    } finally {
      setLoading(false);
    }
  };

  const markAsRead = async (id: number) => {
    try {
      await api.put(`/api/notifications/${id}/read`);
      setNotifications(prev =>
        prev.map(n => n.id === id ? { ...n, read: true } : n)
      );
    } catch (error) {
      console.error('Failed to mark as read:', error);
    }
  };

  const markAllAsRead = async () => {
    try {
      await api.put('/api/notifications/read-all');
      setNotifications(prev => prev.map(n => ({ ...n, read: true })));
    } catch (error) {
      console.error('Failed to mark all as read:', error);
    }
  };

  const getIcon = (type: Notification['type']) => {
    switch (type) {
      case 'message': return <MessageCircle className="w-5 h-5 text-blue-400" />;
      case 'like': return <Heart className="w-5 h-5 text-red-400" />;
      case 'friend': return <UserPlus className="w-5 h-5 text-green-400" />;
      case 'gift': return <Gift className="w-5 h-5 text-purple-400" />;
      case 'mention': return <Bell className="w-5 h-5 text-yellow-400" />;
    }
  };

  const getCount = (type: 'all' | Notification['type']) => {
    if (type === 'all') return notifications.length;
    return notifications.filter(n => n.type === type).length;
  };

  const filteredNotifications = activeTab === 'all'
    ? notifications
    : notifications.filter(n => n.type === activeTab);

  if (!isOpen) return null;

  return (
    <AnimatePresence>
      <motion.div
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        exit={{ opacity: 0 }}
        className="fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm"
        onClick={onClose}
      >
        <motion.div
          initial={{ opacity: 0, scale: 0.9, y: 20 }}
          animate={{ opacity: 1, scale: 1, y: 0 }}
          exit={{ opacity: 0, scale: 0.9, y: 20 }}
          onClick={(e) => e.stopPropagation()}
          className="w-full max-w-2xl mx-4 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col"
        >
          {/* Header */}
          <div className="flex items-center justify-between p-4 border-b border-gray-700">
            <h2 className="text-xl font-bold text-white">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h2>
            <div className="flex items-center gap-2">
              <button
                onClick={markAllAsRead}
                className="px-3 py-1 text-sm text-blue-400 hover:text-blue-300 transition-colors"
              >
                <Check className="w-4 h-4 inline mr-1" />
                ØªØ¹Ù„ÙŠÙ… Ø§Ù„ÙƒÙ„ ÙƒÙ…Ù‚Ø±ÙˆØ¡
              </button>
              <button
                onClick={onClose}
                className="p-2 hover:bg-gray-700 rounded-full transition-colors"
              >
                <X className="w-5 h-5 text-gray-400" />
              </button>
            </div>
          </div>

          {/* Tabs */}
          <div className="flex gap-1 p-2 border-b border-gray-700 overflow-x-auto">
            <TabButton
              active={activeTab === 'all'}
              onClick={() => setActiveTab('all')}
              count={getCount('all')}
            >
              <Bell className="w-4 h-4" />
              Ø§Ù„ÙƒÙ„
            </TabButton>
            <TabButton
              active={activeTab === 'message'}
              onClick={() => setActiveTab('message')}
              count={getCount('message')}
            >
              <MessageCircle className="w-4 h-4" />
              Ø±Ø³Ø§Ø¦Ù„
            </TabButton>
            <TabButton
              active={activeTab === 'like'}
              onClick={() => setActiveTab('like')}
              count={getCount('like')}
            >
              <Heart className="w-4 h-4" />
              Ø¥Ø¹Ø¬Ø§Ø¨Ø§Øª
            </TabButton>
            <TabButton
              active={activeTab === 'friend'}
              onClick={() => setActiveTab('friend')}
              count={getCount('friend')}
            >
              <UserPlus className="w-4 h-4" />
              ØµØ¯Ø§Ù‚Ø©
            </TabButton>
            <TabButton
              active={activeTab === 'gift'}
              onClick={() => setActiveTab('gift')}
              count={getCount('gift')}
            >
              <Gift className="w-4 h-4" />
              Ù‡Ø¯Ø§ÙŠØ§
            </TabButton>
          </div>

          {/* Content */}
          <div className="flex-1 overflow-y-auto p-4">
            {loading ? (
              <div className="flex items-center justify-center h-48">
                <div className="animate-spin rounded-full h-8 w-8 border-2 border-blue-500 border-t-transparent" />
              </div>
            ) : filteredNotifications.length === 0 ? (
              <div className="flex flex-col items-center justify-center h-48 text-gray-400">
                <Bell className="w-12 h-12 mb-2 opacity-50" />
                <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</p>
              </div>
            ) : (
              <div className="space-y-2">
                {filteredNotifications.map((notification) => (
                  <motion.div
                    key={notification.id}
                    initial={{ opacity: 0, x: -20 }}
                    animate={{ opacity: 1, x: 0 }}
                    className={`flex gap-3 p-3 rounded-lg transition-colors cursor-pointer ${
                      notification.read
                        ? 'bg-gray-800/30 hover:bg-gray-800/50'
                        : 'bg-blue-900/20 hover:bg-blue-900/30 border-r-2 border-blue-500'
                    }`}
                    onClick={() => markAsRead(notification.id)}
                  >
                    {/* Icon */}
                    <div className="flex-shrink-0 mt-1">
                      {getIcon(notification.type)}
                    </div>

                    {/* Avatar */}
                    <img
                      src={notification.avatar}
                      alt={notification.username}
                      className="w-10 h-10 rounded-full flex-shrink-0"
                    />

                    {/* Content */}
                    <div className="flex-1 min-w-0">
                      <p className="text-sm text-gray-200">
                        <span className="font-semibold">{notification.username}</span>
                        {' '}
                        {notification.content}
                      </p>
                      <p className="text-xs text-gray-400 mt-1">
                        {formatTimeAgo(notification.timestamp)}
                      </p>
                    </div>

                    {/* Unread indicator */}
                    {!notification.read && (
                      <div className="flex-shrink-0">
                        <div className="w-2 h-2 bg-blue-500 rounded-full" />
                      </div>
                    )}
                  </motion.div>
                ))}
              </div>
            )}
          </div>
        </motion.div>
      </motion.div>
    </AnimatePresence>
  );
}

// Tab Button Component
function TabButton({
  active,
  onClick,
  count,
  children
}: {
  active: boolean;
  onClick: () => void;
  count: number;
  children: React.ReactNode;
}) {
  return (
    <button
      onClick={onClick}
      className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap ${
        active
          ? 'bg-blue-600 text-white shadow-lg shadow-blue-600/50'
          : 'bg-gray-700/50 text-gray-400 hover:bg-gray-700 hover:text-gray-300'
      }`}
    >
      {children}
      {count > 0 && (
        <span className={`px-2 py-0.5 rounded-full text-xs ${
          active ? 'bg-white/20' : 'bg-gray-600'
        }`}>
          {count}
        </span>
      )}
    </button>
  );
}

function formatTimeAgo(date: Date): string {
  const seconds = Math.floor((new Date().getTime() - date.getTime()) / 1000);
  
  if (seconds < 60) return 'Ø§Ù„Ø¢Ù†';
  if (seconds < 3600) return `Ù…Ù†Ø° ${Math.floor(seconds / 60)} Ø¯`;
  if (seconds < 86400) return `Ù…Ù†Ø° ${Math.floor(seconds / 3600)} Ø³`;
  if (seconds < 604800) return `Ù…Ù†Ø° ${Math.floor(seconds / 86400)} ÙŠÙˆÙ…`;
  return new Date(date).toLocaleDateString('ar');
}
```

---

### Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ 4: Bottom Navigation + ØªØ­Ø³ÙŠÙ†Ø§Øª Ù†Ù‡Ø§Ø¦ÙŠØ©

```typescript
// client/src/components/layout/BottomNavigation.tsx
import { Home, MessageCircle, Bell, User } from 'lucide-react';
import { motion } from 'framer-motion';

interface BottomNavigationProps {
  activeTab: 'home' | 'messages' | 'notifications' | 'profile';
  onTabChange: (tab: 'home' | 'messages' | 'notifications' | 'profile') => void;
  unreadMessages?: number;
  unreadNotifications?: number;
}

export default function BottomNavigation({
  activeTab,
  onTabChange,
  unreadMessages = 0,
  unreadNotifications = 0
}: BottomNavigationProps) {
  return (
    <div className="fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-700 safe-area-bottom z-40">
      <div className="flex items-center justify-around h-16 max-w-screen-xl mx-auto">
        <NavButton
          active={activeTab === 'home'}
          onClick={() => onTabChange('home')}
          icon={<Home />}
          label="Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"
        />
        
        <NavButton
          active={activeTab === 'messages'}
          onClick={() => onTabChange('messages')}
          icon={<MessageCircle />}
          label="Ø§Ù„Ø±Ø³Ø§Ø¦Ù„"
          badge={unreadMessages}
        />
        
        <NavButton
          active={activeTab === 'notifications'}
          onClick={() => onTabChange('notifications')}
          icon={<Bell />}
          label="Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª"
          badge={unreadNotifications}
        />
        
        <NavButton
          active={activeTab === 'profile'}
          onClick={() => onTabChange('profile')}
          icon={<User />}
          label="Ø§Ù„Ù…Ù„Ù"
        />
      </div>
    </div>
  );
}

function NavButton({
  active,
  onClick,
  icon,
  label,
  badge
}: {
  active: boolean;
  onClick: () => void;
  icon: React.ReactNode;
  label: string;
  badge?: number;
}) {
  return (
    <button
      onClick={onClick}
      className="relative flex flex-col items-center justify-center gap-1 flex-1 h-full transition-colors"
    >
      <div className="relative">
        <div className={`transition-colors ${
          active ? 'text-blue-500' : 'text-gray-400'
        }`}>
          {icon}
        </div>
        
        {badge && badge > 0 && (
          <motion.div
            initial={{ scale: 0 }}
            animate={{ scale: 1 }}
            className="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1"
          >
            {badge > 99 ? '99+' : badge}
          </motion.div>
        )}
      </div>
      
      <span className={`text-xs transition-colors ${
        active ? 'text-blue-500 font-medium' : 'text-gray-400'
      }`}>
        {label}
      </span>
      
      {active && (
        <motion.div
          layoutId="activeTab"
          className="absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"
          transition={{ type: "spring", stiffness: 500, damping: 30 }}
        />
      )}
    </button>
  );
}
```

---

## ğŸ“± Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©

Ø¨Ø¹Ø¯ 4 Ø£Ø³Ø§Ø¨ÙŠØ¹ Ø±Ø§Ø­ ÙŠÙƒÙˆÙ† Ø¹Ù†Ø¯Ùƒ:
```
âœ… Ù†Ø¸Ø§Ù… Ø¥Ø·Ø§Ø±Ø§Øª Ù…Ø«Ù„Ù‡Ù… Ø¨Ø§Ù„Ø¶Ø¨Ø·
âœ… ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª
âœ… Ù…ÙˆØ¯Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ø­ØªØ±Ø§ÙÙŠ
âœ… Bottom navigation Ø³Ù„Ø³
âœ… ØªØ£Ø«ÙŠØ±Ø§Øª ÙˆØ§Ù†ÙŠÙ…ÙŠØ´Ù†Ø²
âœ… ÙƒÙ„ Ø´ÙŠ Ø³Ø±ÙŠØ¹ ÙˆØ³Ù„Ø³

Ù„ÙƒÙ†:
âœ… Ø¨ÙƒÙˆØ¯Ùƒ Ø§Ù„Ù‚ÙˆÙŠ (React + TypeScript)
âœ… Ø¨Ø£Ù…Ø§Ù†Ùƒ Ø§Ù„Ø¹Ø§Ù„ÙŠ
âœ… Ø¨Ù…ÙŠØ²Ø§ØªÙƒ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©
âœ… Ø¨Ø«ÙŠÙ… Ù…Ø®ØªÙ„Ù (Ø£Ù„ÙˆØ§Ù†ØŒ ØªÙØ§ØµÙŠÙ„)
```

---

## âš–ï¸ Ù‚Ø§Ù†ÙˆÙ†ÙŠØ§Ù‹ - Ù‡Ù„ Ù‡Ø°Ø§ ØµØ­ØŸ

**Ù†Ø¹Ù… 100%!** Ù„Ø£Ù†Ùƒ:
- âŒ Ù…Ø§ Ø£Ø®Ø°Øª ÙƒÙˆØ¯Ù‡Ù… Ø§Ù„Ø£ØµÙ„ÙŠ
- âŒ Ù…Ø§ Ø£Ø®Ø°Øª Ø£ØµÙˆÙ„Ù‡Ù… (assets)
- âœ… ÙÙ‚Ø· Ø£Ø®Ø°Øª **Ø§Ù„ÙÙƒØ±Ø©** ÙˆØ§Ù„ØªØµÙ…ÙŠÙ…
- âœ… Ø¨Ù†ÙŠØª ÙƒÙ„ Ø´ÙŠ Ù…Ù† Ø§Ù„ØµÙØ± Ø¨ÙƒÙˆØ¯Ùƒ

**Ù‡Ø°Ø§ ÙŠØ³Ù…Ù‰ "Inspired by" ÙˆÙ‡Ùˆ Ù‚Ø§Ù†ÙˆÙ†ÙŠ ØªÙ…Ø§Ù…Ø§Ù‹!**

Ù…Ø«Ù„:
- Instagram Ø£Ø®Ø° ÙÙƒØ±Ø© Ù…Ù† Snapchat (Stories)
- TikTok Ø£Ø®Ø° ÙÙƒØ±Ø© Ù…Ù† Vine
- Discord Ø£Ø®Ø° ÙÙƒØ±Ø© Ù…Ù† Slack + Skype

---

## ğŸ¯ Ø§Ù„Ø®Ù„Ø§ØµØ©

**Ù†Ø¹Ù… Ø¨Ù‚Ø¯Ø± Ø£Ø¨Ù†ÙŠÙ„Ùƒ ÙƒÙ„ Ø´ÙŠ Ù…Ø«Ù„Ù‡Ù… Ø¨Ø§Ù„Ø¶Ø¨Ø·!**

- Ø§Ù„ØªØµØ§Ù…ÙŠÙ… âœ…
- Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª âœ…
- Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª âœ…
- Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª âœ…
- Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª âœ…
- Ø§Ù„Ø³Ø±Ø¹Ø© âœ…

**Ù„ÙƒÙ† Ø¨ÙƒÙˆØ¯Ùƒ Ø§Ù„Ù‚ÙˆÙŠ + Ù…ÙŠØ²Ø§ØªÙƒ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©!**

**Ø¨Ø¯Ùƒ Ø£Ø¨Ø¯Ø£ØŸ** ğŸš€
