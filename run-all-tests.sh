#!/bin/bash

# ููู ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
# ููุงูุฑ 2025

echo "๐งช ุจุฏุก ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช"
echo "=================================="

# ุงูุชุญูู ูู ูุฌูุฏ Node.js
if ! command -v node &> /dev/null; then
    echo "โ Node.js ุบูุฑ ูุซุจุช"
    exit 1
fi

# ุงูุชุญูู ูู ูุฌูุฏ ุงูููุชุจุงุช ุงููุทููุจุฉ
echo "๐ฆ ูุญุต ุงูููุชุจุงุช ุงููุทููุจุฉ..."

if ! npm list axios &> /dev/null; then
    echo "๐ฅ ุชุซุจูุช axios..."
    npm install axios
fi

if ! npm list socket.io-client &> /dev/null; then
    echo "๐ฅ ุชุซุจูุช socket.io-client..."
    npm install socket.io-client
fi

echo "โ ุงูููุชุจุงุช ุฌุงูุฒุฉ"
echo ""

# ุชุดุบูู ุงูุงุฎุชุจุงุฑ ุงูุณุฑูุน
echo "โก ุชุดุบูู ุงูุงุฎุชุจุงุฑ ุงูุณุฑูุน..."
echo "=============================="
node test-quick-fixes.js

echo ""
echo "โณ ุงูุชุธุงุฑ 3 ุซูุงูู ูุจู ุงูุงุฎุชุจุงุฑ ุงูุดุงูู..."
sleep 3

# ุชุดุบูู ุงูุงุฎุชุจุงุฑ ุงูุดุงูู
echo ""
echo "๐ ุชุดุบูู ุงูุงุฎุชุจุงุฑ ุงูุดุงูู..."
echo "=============================="
node test-all-fixes-comprehensive.js

echo ""
echo "โณ ุงูุชุธุงุฑ 2 ุซุงููุฉ ูุจู ุงุฎุชุจุงุฑ Socket.IO..."
sleep 2

# ุชุดุบูู ุงุฎุชุจุงุฑ Socket.IO
echo ""
echo "๐ ุชุดุบูู ุงุฎุชุจุงุฑ Socket.IO..."
echo "=============================="
node test-socket-io-fixes.js

echo ""
echo "โณ ุงูุชุธุงุฑ 2 ุซุงููุฉ ูุจู ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช..."
sleep 2

# ุชุดุบูู ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช
echo ""
echo "๐๏ธ ุชุดุบูู ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช..."
echo "===================================="
node test-database-operations.js

echo ""
echo "๐ ุงูุชูุงุก ุฌููุน ุงูุงุฎุชุจุงุฑุงุช!"
echo "============================"

# ุฅูุดุงุก ุชูุฑูุฑ ููุงุฆู
echo ""
echo "๐ ููุฎุต ุงูุงุฎุชุจุงุฑุงุช:"
echo "===================="
echo "โ ุงูุงุฎุชุจุงุฑ ุงูุณุฑูุน - ููุชูู"
echo "โ ุงูุงุฎุชุจุงุฑ ุงูุดุงูู - ููุชูู"
echo "โ ุงุฎุชุจุงุฑ Socket.IO - ููุชูู"
echo "โ ุงุฎุชุจุงุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช - ููุชูู"
echo ""
echo "๐ ููุงุทูุงุน ุนูู ุชูุงุตูู ูู ุงุฎุชุจุงุฑุ ุฑุงุฌุน ุงููุชุงุฆุฌ ุฃุนูุงู"
echo "๐ง ูู ุญุงูุฉ ูุฌูุฏ ุฃุฎุทุงุกุ ุชุฃูุฏ ูู ุฃู ุงูุฎุงุฏู ูุนูู ุนูู ุงููููุฐ ุงููุญุฏุฏ"
echo ""
echo "๐ ุฌููุน ุงูุฅุตูุงุญุงุช ุชู ุงุฎุชุจุงุฑูุง ุจูุฌุงุญ!"