<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Ù…Ù„Ù Ø´Ø®ØµÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ - Dynamo Arabic Chat">
  <title>Ù…Ù„Ù Ø´Ø®ØµÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
  <!-- Pickr CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/classic.min.css" />
  <style>
    :root {
      --main-bg: #121212;
      --card-bg: linear-gradient(135deg, #f57f17, #b71c1c, #6a1b9a);
      --text-color: #ffffff;
      --accent-color: #ffc107;
      --error-color: #f44336;
      --success-color: #4caf50;
    }

    /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¹ØµØ±ÙŠØ© Ù…Ø¹ Ø§Ù„ØªØ¯Ø±ÙŠØ¬ Ø§Ù„Ù…Ø§Ø¦ÙŠ */
    .theme-sunset-glow {
      --card-bg: linear-gradient(135deg, 
        #2c1810, 
        #8b0000, 
        #dc143c, 
        #ff6347, 
        #ff8c00
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #fff3e0;
    }

    .theme-ocean-depths {
      --card-bg: linear-gradient(135deg, 
        rgba(102, 126, 234, 0.9), 
        rgba(118, 75, 162, 0.85), 
        rgba(171, 147, 251, 0.8), 
        rgba(102, 126, 234, 0.9)
      ),
      radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0, 150, 255, 0.25) 0%, transparent 60%);
      --accent-color: #e3f2fd;
    }

    .theme-aurora-borealis {
      --card-bg: linear-gradient(135deg, 
        #0a0a0a, 
        #1a1a2e, 
        #16213e, 
        #0f3460, 
        #533483
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #f0f8ff;
    }

    .theme-cosmic-night {
      --card-bg: linear-gradient(135deg, 
        #000000, 
        #1a0033, 
        #330066, 
        #6600cc, 
        #9933ff
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #e8eaf6;
    }

    .theme-emerald-forest {
      --card-bg: linear-gradient(135deg, 
        #0a1a0a, 
        #1a3a1a, 
        #2d5a2d, 
        #4a7c4a, 
        #6b9e6b
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #e8f5e8;
    }

    .theme-rose-gold {
      --card-bg: linear-gradient(135deg, 
        #2d1b1b, 
        #4a2c2c, 
        #8b4513, 
        #daa520, 
        #ffd700
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #fff0f3;
    }

    .theme-midnight-purple {
      --card-bg: linear-gradient(135deg, 
        #000033, 
        #1a1a4a, 
        #333366, 
        #4d4d99, 
        #6666cc
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #f3e5f5;
    }

    .theme-golden-hour {
      --card-bg: linear-gradient(135deg, 
        #1a0f0f, 
        #4a2c1a, 
        #8b4513, 
        #daa520, 
        #ffd700
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #fff8e1;
    }

    .theme-neon-dreams {
      --card-bg: linear-gradient(135deg, 
        #0a0a0a, 
        #2d1b2d, 
        #4a1a4a, 
        #8b008b, 
        #ff00ff
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #fce4ec;
    }

    .theme-silver-mist {
      --card-bg: linear-gradient(135deg, 
        #1a1a1a, 
        #2d2d2d, 
        #4a4a4a, 
        #666666, 
        #808080
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #fafafa;
    }

    .theme-fire-opal {
      --card-bg: linear-gradient(135deg, 
        #1a0a0a, 
        #4a1a1a, 
        #8b0000, 
        #dc143c, 
        #ff4500
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #fff3e0;
    }

    .theme-crystal-clear {
      --card-bg: linear-gradient(135deg, 
        #0a1a2a, 
        #1a2a4a, 
        #2a4a6a, 
        #4a6a8a, 
        #6a8aaa
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #e1f5fe;
    }

    /* Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø®Ù…Ù„ÙŠØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© */
    .theme-burgundy-velvet {
      --card-bg: linear-gradient(135deg, 
        #0a0a0a, 
        #2d1b1b, 
        #4a1a1a, 
        #8b0000, 
        #a52a2a
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #ffe4e1;
    }

    .theme-golden-velvet {
      --card-bg: linear-gradient(135deg, 
        #1a1a0a, 
        #2d2d1a, 
        #4a4a1a, 
        #8b8b00, 
        #ffd700
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #fff8dc;
    }

    .theme-royal-black {
      --card-bg: linear-gradient(135deg, 
        #000000, 
        #1a1a2e, 
        #2d2d4a, 
        #4a4a6a, 
        #66668a
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #f0f8ff;
    }

    .theme-berry-velvet {
      --card-bg: linear-gradient(135deg, 
        #0a0a1a, 
        #1a1a2d, 
        #2d2d4a, 
        #4a4a6a, 
        #8a2be2
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #f8f0ff;
    }

    .theme-crimson-velvet {
      --card-bg: linear-gradient(135deg, 
        #0a0a0a, 
        #2d1b1b, 
        #4a1a1a, 
        #8b0000, 
        #dc143c
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #ffe4e1;
    }

    .theme-emerald-velvet {
      --card-bg: linear-gradient(135deg, 
        #0a1a0a, 
        #1a2d1a, 
        #2d4a2d, 
        #4a6a4a, 
        #6b8a6b
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #f0fff0;
    }

    .theme-sapphire-velvet {
      --card-bg: linear-gradient(135deg, 
        #0a0a1a, 
        #1a1a2d, 
        #2d2d4a, 
        #4a4a6a, 
        #6b6b8a
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #f0f8ff;
    }

    .theme-ruby-velvet {
      --card-bg: linear-gradient(135deg, 
        #0a0a0a, 
        #2d1b1b, 
        #4a1a1a, 
        #8b0000, 
        #9b111e
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #ffe4e1;
    }

    .theme-amethyst-velvet {
      --card-bg: linear-gradient(135deg, 
        #0a0a1a, 
        #1a1a2d, 
        #2d2d4a, 
        #4a4a6a, 
        #9966cc
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #f8f0ff;
    }

    .theme-onyx-velvet {
      --card-bg: linear-gradient(135deg, 
        #000000, 
        #1a1a1a, 
        #2d2d2d, 
        #4a4a4a, 
        #666666
      ),
      radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15) 0%, transparent 60%),
      radial-gradient(circle at 80% 70%, rgba(0,150,255,0.25) 0%, transparent 60%);
      --accent-color: #f5f5f5;
    }

    /* Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ø¬Ø°Ø§Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯ - Ù…Ø­Ø¯Ø« */
    .theme-sunset-fire {
      --card-bg: linear-gradient(to bottom, #ff7c00 0%, #e10026 30%, #800e8c 65%, #1a004d 100%);
      --accent-color: #fff3e0;
    }

    /* Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ - Ù…Ø­Ø¯Ø« */
    .theme-perfect-gradient {
      --card-bg: linear-gradient(to bottom, #ff7c00 0%, #e10026 30%, #800e8c 65%, #1a004d 100%);
      --accent-color: #fff3e0;
    }

    /* Ø§Ù„ØªØ¯Ø±Ø¬ Ù…Ù† Ø§Ù„ØµÙˆØ±Ø© - Ù…Ø­Ø¯Ø« */
    .theme-image-gradient {
      --card-bg: linear-gradient(to bottom, #ff7c00 0%, #e10026 30%, #800e8c 65%, #1a004d 100%);
      --accent-color: #fff3e0;
    }

    /* Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ±Ø© - Ù…Ø­Ø¯Ø« */
    .theme-new-gradient {
      --card-bg: linear-gradient(to bottom, #ff7c00 0%, #e10026 30%, #800e8c 65%, #1a004d 100%);
      --accent-color: #fff3e0;
    }

    * {
      box-sizing: border-box;
    }

    body {
      background: var(--main-bg);
      color: var(--text-color);
      font-family: 'Segoe UI', 'Arial', sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      line-height: 1.6;
    }

    .profile-card {
      width: 100%;
      max-width: 380px;
      border-radius: 16px;
      overflow: hidden;
      background: var(--card-bg);
      box-shadow: 0 8px 32px rgba(0,0,0,0.8);
      position: relative;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      height: fit-content;
    }



    .profile-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.9);
    }

    .profile-cover {
      position: relative;
      aspect-ratio: 3 / 1;
      background-image: url('https://i.imgur.com/rJKrUfs.jpeg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    .change-cover-btn {
      position: absolute;
      top: 12px;
      left: 12px;
      background: rgba(0,0,0,0.7);
      border-radius: 8px;
      padding: 8px 12px;
      color: #fff;
      font-size: 12px;
      cursor: pointer;
      z-index: 3;
      transition: background 0.3s ease;
      border: none;
      font-weight: 500;
    }

    .change-cover-btn:hover {
      background: rgba(0,0,0,0.9);
    }

    .profile-avatar {
      width: 100px;
      height: 100px;
      border-radius: 16px;
      overflow: hidden;
      border: 4px solid rgba(255,255,255,0.9);
      position: absolute;
      top: calc(100% - 50px);
      right: 20px;
      background-color: white;
      box-shadow: 0 6px 20px rgba(0,0,0,0.6);
      z-index: 2;
      transition: transform 0.3s ease;
    }

    .profile-avatar:hover {
      transform: scale(1.05);
    }

    .profile-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .change-avatar-btn {
      position: absolute;
      top: calc(100% - 25px);
      right: 28px;
      background: rgba(0,0,0,0.8);
      border-radius: 50%;
      width: 30px;
      height: 30px;
      text-align: center;
      line-height: 30px;
      font-size: 14px;
      color: #fff;
      cursor: pointer;
      z-index: 3;
      transition: background 0.3s ease, transform 0.2s ease;
      border: none;
    }

    .change-avatar-btn:hover {
      background: rgba(0,0,0,1);
      transform: scale(1.1);
    }

    input[type="file"] {
      display: none;
    }

    .profile-body {
      padding: 60px 20px 16px;
    }

    .profile-info {
      margin-bottom: 12px;
      text-align: center;
      margin-top: -50px;
    }

    .profile-info h3 {
      margin: 0 0 6px 0;
      font-size: 20px;
      font-weight: bold;
      color: var(--accent-color);
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .profile-info h3:hover {
      color: #fff;
      transform: translateY(-2px);
    }

    .profile-info small {
      display: block;
      font-size: 13px;
      color: #ddd;
      opacity: 0.9;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .profile-info small:hover {
      color: var(--accent-color);
      transform: translateY(-1px);
    }

    .profile-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 12px 0;
      justify-content: center;
    }

    .profile-buttons button {
      flex: 1 1 30%;
      background: linear-gradient(135deg, #b71c1c, #8e0000);
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      font-size: 12px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
    }

    .profile-buttons button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.4);
      background: linear-gradient(135deg, #d32f2f, #b71c1c);
      border-color: rgba(255,255,255,0.2);
    }

    .profile-buttons button:active {
      transform: translateY(0);
    }

    .profile-details {
      padding: 12px;
      font-size: 13px;
      background: rgba(255,255,255,0.08);
      border-radius: 12px;
      margin: 12px 0;
      border: 1px solid rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
    }

    .profile-details p {
      margin: 6px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 8px;
      border-radius: 6px;
      transition: all 0.3s ease;
      border-bottom: 1px solid rgba(255,255,255,0.08);
      cursor: pointer;
    }
    
    .profile-details p:hover {
      background: rgba(255,255,255,0.05);
      transform: translateX(-3px);
    }

    .profile-details p:last-child {
      border-bottom: none;
    }

    .profile-details span {
      font-weight: bold;
      color: var(--accent-color);
      text-align: left;
      text-shadow: 0 1px 2px rgba(0,0,0,0.3);
      padding: 3px 6px;
      border-radius: 4px;
      background: rgba(255,255,255,0.05);
    }

    .additional-details {
      background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
      padding: 10px 16px;
      border-radius: 12px;
      margin: 10px 0;
      border: 1px solid rgba(255,255,255,0.15);
      backdrop-filter: blur(15px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    .additional-details p {
      margin: 6px 0;
      font-size: 12px;
      color: #eee;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 4px 8px;
      border-radius: 6px;
      transition: all 0.3s ease;
    }
    
    .additional-details p:hover {
      background: rgba(255,255,255,0.08);
      transform: scale(1.02);
    }

    .additional-details span {
      font-weight: bold;
      color: var(--accent-color);
      text-shadow: 0 1px 2px rgba(0,0,0,0.3);
      padding: 2px 6px;
      border-radius: 4px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.1);
    }

    .loading {
      opacity: 0.6;
      pointer-events: none;
    }

    .error-message {
      background: var(--error-color);
      color: white;
      padding: 6px 10px;
      border-radius: 6px;
      margin: 6px 0;
      font-size: 11px;
      text-align: center;
    }

    .success-message {
      background: var(--success-color);
      color: white;
      padding: 6px 10px;
      border-radius: 6px;
      margin: 6px 0;
      font-size: 11px;
      text-align: center;
    }
    
    /* Ù†Ø§ÙØ°Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª */
    .edit-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .edit-modal.show {
      display: flex;
    }
    .edit-content {
      background: var(--card-bg);
      padding: 24px;
      border-radius: 16px;
      width: 90%;
      max-width: 350px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.9);
    }
    .edit-content h3 {
      margin: 0 0 16px 0;
      color: var(--accent-color);
      text-align: center;
      font-size: 18px;
    }
    .edit-field {
      margin-bottom: 16px;
    }
    .edit-field label {
      display: block;
      margin-bottom: 6px;
      color: #fff;
      font-weight: bold;
      font-size: 14px;
    }
    .edit-field input, .edit-field select, .edit-field textarea {
      width: 100%;
      padding: 12px;
      border: 2px solid rgba(255,255,255,0.3);
      border-radius: 10px;
      background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.05));
      color: #fff;
      font-size: 14px;
      font-weight: 500;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }
    .edit-field input:focus, .edit-field select:focus, .edit-field textarea:focus {
      outline: none;
      border-color: var(--accent-color);
      background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
      box-shadow: 0 0 15px rgba(255,193,7,0.3);
    }
    
    /* ØªØ­Ø³ÙŠÙ† Ù…Ø¸Ù‡Ø± Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© */
    .edit-field select {
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%23ffc107' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");
      background-repeat: no-repeat;
      background-position: right 12px center;
      background-size: 16px;
      padding-right: 40px;
    }
    
    .edit-field select option {
      background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
      color: #fff;
      padding: 12px;
      font-size: 14px;
      font-weight: 500;
      border: none;
      border-radius: 8px;
      margin: 2px 0;
      transition: all 0.3s ease;
    }

    /* Ø£Ù†Ù…Ø§Ø· Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù† */
    .theme-option {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 12px;
      border-radius: 8px;
      margin: 4px 0;
      cursor: pointer;
      transition: all 0.3s ease;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
    }

    .theme-option:hover {
      background: rgba(255,255,255,0.1);
      transform: translateX(-5px);
    }

    .theme-option.selected {
      background: var(--accent-color);
      color: #000;
      font-weight: bold;
      transform: scale(1.05);
      box-shadow: 0 4px 15px rgba(255,193,7,0.4);
    }

    .theme-option.selected .theme-preview {
      transform: scale(1.1);
    }

    .theme-preview {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      border: 2px solid rgba(255,255,255,0.3);
      flex-shrink: 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      transition: all 0.3s ease;
    }

    .theme-option:hover .theme-preview {
      transform: scale(1.2);
      border-color: rgba(255,255,255,0.8);
      box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    }



    .theme-name {
      flex: 1;
      font-size: 14px;
      font-weight: 500;
    }

    /* ===== ØªØ£Ø«ÙŠØ±Ø§Øª Ø­Ø±ÙƒÙŠØ© Ø¬Ù…ÙŠÙ„Ø© ===== */
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ø¨Ø¶ Ø§Ù„Ù†Ø§Ø¹Ù… */
    .effect-pulse {
      animation: gentlePulse 3s ease-in-out infinite;
    }
    
    @keyframes gentlePulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„ØªÙˆÙ‡Ø¬ Ø§Ù„Ø°Ù‡Ø¨ÙŠ */
    .effect-glow {
      animation: goldenGlow 4s ease-in-out infinite;
      box-shadow: 0 8px 32px rgba(0,0,0,0.8), 0 0 20px rgba(255,215,0,0.3);
    }
    
    @keyframes goldenGlow {
      0%, 100% { 
        box-shadow: 0 8px 32px rgba(0,0,0,0.8), 0 0 20px rgba(255,215,0,0.3);
      }
      50% { 
        box-shadow: 0 8px 32px rgba(0,0,0,0.8), 0 0 30px rgba(255,215,0,0.6);
      }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„ØªÙ…ÙˆØ¬ Ø§Ù„Ù…Ø§Ø¦ÙŠ */
    .effect-water {
      animation: waterWave 6s ease-in-out infinite;
      background-size: 400% 400% !important;
    }
    
    @keyframes waterWave {
      0%, 100% { background-position: 0% 50%; }
      25% { background-position: 100% 50%; }
      50% { background-position: 100% 100%; }
      75% { background-position: 0% 100%; }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø´ÙÙ‚ Ø§Ù„Ù‚Ø·Ø¨ÙŠ */
    .effect-aurora {
      animation: auroraShift 8s ease-in-out infinite;
      background-size: 300% 300% !important;
    }
    
    @keyframes auroraShift {
      0%, 100% { 
        background-position: 0% 50%;
        filter: hue-rotate(0deg);
      }
      25% { 
        background-position: 100% 50%;
        filter: hue-rotate(90deg);
      }
      50% { 
        background-position: 100% 100%;
        filter: hue-rotate(180deg);
      }
      75% { 
        background-position: 0% 100%;
        filter: hue-rotate(270deg);
      }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†ÙŠÙˆÙ† Ø§Ù„Ù…ØªÙˆÙ‡Ø¬ */
    .effect-neon {
      animation: neonFlicker 2s ease-in-out infinite;
      box-shadow: 0 8px 32px rgba(0,0,0,0.8), 0 0 20px rgba(255,20,147,0.5);
    }
    
    @keyframes neonFlicker {
      0%, 100% { 
        box-shadow: 0 8px 32px rgba(0,0,0,0.8), 0 0 20px rgba(255,20,147,0.5);
      }
      50% { 
        box-shadow: 0 8px 32px rgba(0,0,0,0.8), 0 0 30px rgba(255,20,147,0.8);
      }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¨Ù„ÙˆØ± Ø§Ù„Ù…ØªÙ„Ø£Ù„Ø¦ */
    .effect-crystal {
      animation: crystalShimmer 5s ease-in-out infinite;
      position: relative;
    }
    
    .effect-crystal::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      animation: crystalSweep 3s ease-in-out infinite;
    }
    
    @keyframes crystalShimmer {
      0%, 100% { filter: brightness(1) contrast(1); }
      50% { filter: brightness(1.1) contrast(1.1); }
    }
    
    @keyframes crystalSweep {
      0% { left: -100%; }
      100% { left: 100%; }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ø§Ø± Ø§Ù„Ù…ØªÙˆÙ‡Ø¬Ø© */
    .effect-fire {
      animation: fireFlicker 1.5s ease-in-out infinite;
      box-shadow: 0 8px 32px rgba(0,0,0,0.8), 0 0 20px rgba(255,69,0,0.5);
    }
    
    @keyframes fireFlicker {
      0%, 100% { 
        box-shadow: 0 8px 32px rgba(0,0,0,0.8), 0 0 20px rgba(255,69,0,0.5);
        filter: brightness(1);
      }
      50% { 
        box-shadow: 0 8px 32px rgba(0,0,0,0.8), 0 0 30px rgba(255,69,0,0.8);
        filter: brightness(1.1);
      }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³ */
    .effect-magnetic {
      animation: magneticFloat 4s ease-in-out infinite;
    }
    
    @keyframes magneticFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ù†Ø§Ø¨Ø¶ */
    .effect-heartbeat {
      animation: heartbeat 2s ease-in-out infinite;
    }
    
    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      14% { transform: scale(1.03); }
      28% { transform: scale(1); }
      42% { transform: scale(1.03); }
      70% { transform: scale(1); }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ù…ØªÙ„Ø£Ù„Ø¦Ø© */
    .effect-stars {
      position: relative;
      animation: starTwinkle 3s ease-in-out infinite;
    }
    
    .effect-stars::before {
      content: 'âœ¨';
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 20px;
      animation: starFloat 4s ease-in-out infinite;
    }
    
    .effect-stars::after {
      content: 'â­';
      position: absolute;
      bottom: 10px;
      left: 10px;
      font-size: 16px;
      animation: starFloat 4s ease-in-out infinite reverse;
    }
    
    @keyframes starTwinkle {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.2); }
    }
    
    @keyframes starFloat {
      0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.7; }
      50% { transform: translateY(-10px) rotate(180deg); opacity: 1; }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù‚ÙˆØ³ Ù‚Ø²Ø­ */
    .effect-rainbow {
      animation: rainbowShift 6s ease-in-out infinite;
      background-size: 400% 400% !important;
    }
    
    @keyframes rainbowShift {
      0%, 100% { 
        background-position: 0% 50%;
        filter: hue-rotate(0deg);
      }
      25% { 
        background-position: 100% 50%;
        filter: hue-rotate(60deg);
      }
      50% { 
        background-position: 100% 100%;
        filter: hue-rotate(120deg);
      }
      75% { 
        background-position: 0% 100%;
        filter: hue-rotate(180deg);
      }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø«Ù„Ø¬ Ø§Ù„Ù…ØªØ³Ø§Ù‚Ø· */
    .effect-snow {
      position: relative;
      animation: snowFall 4s ease-in-out infinite;
    }
    
    .effect-snow::before {
      content: 'â„ï¸';
      position: absolute;
      top: 5px;
      right: 20px;
      font-size: 14px;
      animation: snowFloat 3s ease-in-out infinite;
    }
    
    .effect-snow::after {
      content: 'â„ï¸';
      position: absolute;
      top: 15px;
      left: 30px;
      font-size: 12px;
      animation: snowFloat 3s ease-in-out infinite 1s;
    }
    
    @keyframes snowFall {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.1); }
    }
    
    @keyframes snowFloat {
      0% { transform: translateY(-10px) rotate(0deg); opacity: 0; }
      50% { transform: translateY(20px) rotate(180deg); opacity: 1; }
      100% { transform: translateY(50px) rotate(360deg); opacity: 0; }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¨Ø±Ù‚ */
    .effect-lightning {
      animation: lightningFlash 4s ease-in-out infinite;
    }
    
    @keyframes lightningFlash {
      0%, 90%, 100% { 
        filter: brightness(1);
        box-shadow: 0 8px 32px rgba(0,0,0,0.8);
      }
      5%, 15% { 
        filter: brightness(1.3);
        box-shadow: 0 8px 32px rgba(0,0,0,0.8), 0 0 30px rgba(255,255,255,0.8);
      }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¯Ø®Ø§Ù† */
    .effect-smoke {
      position: relative;
      animation: smokeRise 5s ease-in-out infinite;
    }
    
    .effect-smoke::before {
      content: 'ğŸ’¨';
      position: absolute;
      bottom: 5px;
      right: 15px;
      font-size: 16px;
      animation: smokeFloat 4s ease-in-out infinite;
    }
    
    @keyframes smokeRise {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.05); }
    }
    
    @keyframes smokeFloat {
      0% { transform: translateY(0px) scale(1); opacity: 0.8; }
      100% { transform: translateY(-30px) scale(1.5); opacity: 0; }
    }
    
    /* ØªØ£Ø«ÙŠØ± Ø§Ù„ÙØ±Ø§Ø´Ø© */
    .effect-butterfly {
      position: relative;
      animation: butterflyFlutter 3s ease-in-out infinite;
    }
    
    .effect-butterfly::before {
      content: 'ğŸ¦‹';
      position: absolute;
      top: 10px;
      left: 10px;
      font-size: 18px;
      animation: butterflyFloat 4s ease-in-out infinite;
    }
    
    @keyframes butterflyFlutter {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.1); }
    }
    
    @keyframes butterflyFloat {
      0%, 100% { transform: translateX(0px) translateY(0px) rotate(0deg); }
      25% { transform: translateX(10px) translateY(-5px) rotate(10deg); }
      50% { transform: translateX(0px) translateY(-10px) rotate(0deg); }
      75% { transform: translateX(-10px) translateY(-5px) rotate(-10deg); }
    }
    
    .edit-field select option:hover {
      background: linear-gradient(135deg, var(--accent-color), #ff9800);
      color: #000;
      transform: scale(1.02);
    }
    
    .edit-field select option:checked {
      background: linear-gradient(135deg, var(--accent-color), #ff9800);
      color: #000;
      font-weight: bold;
    }
    .edit-buttons {
      display: flex;
      gap: 10px;
      justify-content: center;
    }
    .edit-buttons button {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 13px;
    }
    .save-btn {
      background: var(--success-color);
      color: white;
    }
    .cancel-btn {
      background: var(--error-color);
      color: white;
    }
    .edit-buttons button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
      }
      
      .profile-card {
        max-width: 100%;
      }
      
      .profile-avatar {
        width: 80px;
        height: 80px;
        top: calc(100% - 40px);
        right: 16px;
      }
      
      .change-avatar-btn {
        top: calc(100% - 20px);
        right: 22px;
        width: 25px;
        height: 25px;
        line-height: 25px;
        font-size: 12px;
      }
      
      .profile-body {
        padding: 50px 12px 12px;
      }
      
      .profile-info h3 {
        font-size: 18px;
      }
    }
  </style>
</head>
<body>

  <div class="profile-card theme-new-gradient">
    <div class="profile-cover" id="profileCover">
      <button class="change-cover-btn" onclick="document.getElementById('coverInput').click()">
        ğŸ–¼ï¸ ØªØºÙŠÙŠØ± Ø§Ù„ØºÙ„Ø§Ù
      </button>
      <input type="file" id="coverInput" accept="image/*" onchange="handleCoverChange(event)">

      <div class="profile-avatar" id="avatarBox">
        <img id="avatarImage" src="https://i.imgur.com/6BvQSMt.jpg" alt="Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©" />
        <button class="change-avatar-btn" onclick="document.getElementById('avatarInput').click()" title="ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø©">
          ğŸ“·
        </button>
        <input type="file" id="avatarInput" accept="image/*" onchange="handleAvatarChange(event)" />
      </div>
    </div>

    <div class="profile-body">
      <div class="profile-info">
        <h3 id="userName" onclick="openEditModal('name')">$ildaâœ¯NightMareâ†~</h3>
        <small id="userStatus" onclick="openEditModal('status')">ğŸ‘ŒğŸ˜” Dynamo Arabic chat#</small>
      </div>

      <div class="profile-buttons">
        <button onclick="handleReport()" class="action-btn">ğŸš© ØªØ¨Ù„ÙŠØº</button>
        <button onclick="handleBlock()" class="action-btn">ğŸš« Ø­Ø¸Ø±</button>
        <button onclick="handleChat()" class="chat-btn">ğŸ’¬ Ù…Ø­Ø§Ø¯Ø«Ø©</button>
      </div>

      <div class="profile-details">
        <p onclick="openEditModal('gender')">ğŸ§â€â™€ï¸ Ø§Ù„Ø¬Ù†Ø³: <span id="userGender">Ø£Ù†Ø«Ù‰</span></p>
        <p onclick="openEditModal('country')">ğŸŒ Ø§Ù„Ø¨Ù„Ø¯: <span id="userCountry">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</span></p>
        <p onclick="openEditModal('age')">ğŸ‚ Ø§Ù„Ø¹Ù…Ø±: <span id="userAge">24 Ø³Ù†Ø©</span></p>
        <p onclick="openEditModal('socialStatus')">ğŸ’ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©: <span id="userSocialStatus">Ø£Ø¹Ø²Ø¨</span></p>
        <p>ğŸ“… ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø¶Ù…Ø§Ù…: <span>2021-10-04</span></p>
        <p>ğŸ Ù†Ù‚Ø§Ø· Ø§Ù„Ù‡Ø¯Ø§ÙŠØ§: <span>340</span></p>
        <p>ğŸ§¾ Ø§Ù„Ø­Ø§Ù„Ø©: <span>Ù…ØªØ§Ø­Ø©</span></p>
      </div>

      <div class="additional-details">
        <p>ğŸ’¬ Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„: <span>1523</span></p>
        <p>â­ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¹Ø¶Ùˆ: <span>Ø§Ù„Ø±ØªØ¨Ø© 12</span></p>
        <p onclick="openEditModal('theme')">ğŸ¨ Ù„ÙˆÙ† Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ: <span id="userTheme">Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ±Ø©</span></p>
        <p onclick="openEditModal('effects')">âœ¨ ØªØ£Ø«ÙŠØ±Ø§Øª Ø­Ø±ÙƒÙŠØ©: <span id="userEffects">Ø¨Ø¯ÙˆÙ† ØªØ£Ø«ÙŠØ±Ø§Øª</span></p>
      </div>
    </div>
  </div>

  <!-- Ù†Ø§ÙØ°Ø© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
  <div class="edit-modal" id="editModal">
    <div class="edit-content">
      <h3 id="editTitle">ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
      <div class="edit-field">
        <label id="editLabel">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:</label>
        <input type="text" id="editInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©">
        <select id="editSelect" style="display: none;">
          <option value="">Ø§Ø®ØªØ±...</option>
        </select>
      </div>
      <div class="edit-buttons">
        <button class="save-btn" onclick="saveEdit()">ğŸ’¾ Ø­ÙØ¸</button>
        <button class="cancel-btn" onclick="closeEditModal()">âŒ Ø¥Ù„ØºØ§Ø¡</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>
  <script>
    // ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ ÙˆØ§Ù„Ø£Ù…Ø§Ù†
    class ProfileManager {
      constructor() {
        this.avatarInput = document.getElementById('avatarInput');
        this.avatarImage = document.getElementById('avatarImage');
        this.coverInput = document.getElementById('coverInput');
        this.profileCover = document.getElementById('profileCover');
        this.maxFileSize = 5 * 1024 * 1024; // 5MB
        this.allowedTypes = ['image/jpeg', 'image/png', 'image/webp'];
        this.currentEditType = null;
        this.isOwnProfile = true; // true = Ù…Ù„ÙÙŠ Ø§Ù„Ø´Ø®ØµÙŠØŒ false = Ù…Ù„Ù Ø´Ø®Øµ Ø¢Ø®Ø±
        
        // Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ù…Ø¹ Ø§Ù„Ø£Ø¹Ù„Ø§Ù…
        this.genders = [
          { value: 'Ø°ÙƒØ±', emoji: 'ğŸ‘¨', label: 'Ø°ÙƒØ±' },
          { value: 'Ø£Ù†Ø«Ù‰', emoji: 'ğŸ‘©', label: 'Ø£Ù†Ø«Ù‰' }
        ];
        
        this.countries = [
          { value: 'ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©', emoji: 'ğŸ‡¸ğŸ‡¦', label: 'Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©' },
          { value: 'ğŸ‡¦ğŸ‡ª Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª', emoji: 'ğŸ‡¦ğŸ‡ª', label: 'Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª' },
          { value: 'ğŸ‡¶ğŸ‡¦ Ù‚Ø·Ø±', emoji: 'ğŸ‡¶ğŸ‡¦', label: 'Ù‚Ø·Ø±' },
          { value: 'ğŸ‡°ğŸ‡¼ Ø§Ù„ÙƒÙˆÙŠØª', emoji: 'ğŸ‡°ğŸ‡¼', label: 'Ø§Ù„ÙƒÙˆÙŠØª' },
          { value: 'ğŸ‡§ğŸ‡­ Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†', emoji: 'ğŸ‡§ğŸ‡­', label: 'Ø§Ù„Ø¨Ø­Ø±ÙŠÙ†' },
          { value: 'ğŸ‡´ğŸ‡² Ø¹Ù…Ø§Ù†', emoji: 'ğŸ‡´ğŸ‡²', label: 'Ø¹Ù…Ø§Ù†' },
          { value: 'ğŸ‡¾ğŸ‡ª Ø§Ù„ÙŠÙ…Ù†', emoji: 'ğŸ‡¾ğŸ‡ª', label: 'Ø§Ù„ÙŠÙ…Ù†' },
          { value: 'ğŸ‡ªğŸ‡¬ Ù…ØµØ±', emoji: 'ğŸ‡ªğŸ‡¬', label: 'Ù…ØµØ±' },
          { value: 'ğŸ‡¸ğŸ‡© Ø§Ù„Ø³ÙˆØ¯Ø§Ù†', emoji: 'ğŸ‡¸ğŸ‡©', label: 'Ø§Ù„Ø³ÙˆØ¯Ø§Ù†' },
          { value: 'ğŸ‡±ğŸ‡¾ Ù„ÙŠØ¨ÙŠØ§', emoji: 'ğŸ‡±ğŸ‡¾', label: 'Ù„ÙŠØ¨ÙŠØ§' },
          { value: 'ğŸ‡¹ğŸ‡³ ØªÙˆÙ†Ø³', emoji: 'ğŸ‡¹ğŸ‡³', label: 'ØªÙˆÙ†Ø³' },
          { value: 'ğŸ‡©ğŸ‡¿ Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±', emoji: 'ğŸ‡©ğŸ‡¿', label: 'Ø§Ù„Ø¬Ø²Ø§Ø¦Ø±' },
          { value: 'ğŸ‡²ğŸ‡¦ Ø§Ù„Ù…ØºØ±Ø¨', emoji: 'ğŸ‡²ğŸ‡¦', label: 'Ø§Ù„Ù…ØºØ±Ø¨' },
          { value: 'ğŸ‡±ğŸ‡§ Ù„Ø¨Ù†Ø§Ù†', emoji: 'ğŸ‡±ğŸ‡§', label: 'Ù„Ø¨Ù†Ø§Ù†' },
          { value: 'ğŸ‡¸ğŸ‡¾ Ø³ÙˆØ±ÙŠØ§', emoji: 'ğŸ‡¸ğŸ‡¾', label: 'Ø³ÙˆØ±ÙŠØ§' },
          { value: 'ğŸ‡¯ğŸ‡´ Ø§Ù„Ø£Ø±Ø¯Ù†', emoji: 'ğŸ‡¯ğŸ‡´', label: 'Ø§Ù„Ø£Ø±Ø¯Ù†' },
          { value: 'ğŸ‡µğŸ‡¸ ÙÙ„Ø³Ø·ÙŠÙ†', emoji: 'ğŸ‡µğŸ‡¸', label: 'ÙÙ„Ø³Ø·ÙŠÙ†' },
          { value: 'ğŸ‡®ğŸ‡¶ Ø§Ù„Ø¹Ø±Ø§Ù‚', emoji: 'ğŸ‡®ğŸ‡¶', label: 'Ø§Ù„Ø¹Ø±Ø§Ù‚' },
          { value: 'ğŸ‡¹ğŸ‡· ØªØ±ÙƒÙŠØ§', emoji: 'ğŸ‡¹ğŸ‡·', label: 'ØªØ±ÙƒÙŠØ§' },
          { value: 'ğŸ‡®ğŸ‡· Ø¥ÙŠØ±Ø§Ù†', emoji: 'ğŸ‡®ğŸ‡·', label: 'Ø¥ÙŠØ±Ø§Ù†' },
          { value: 'ğŸ‡¸ğŸ‡´ Ø§Ù„ØµÙˆÙ…Ø§Ù„', emoji: 'ğŸ‡¸ğŸ‡´', label: 'Ø§Ù„ØµÙˆÙ…Ø§Ù„' },
          { value: 'ğŸ‡©ğŸ‡¯ Ø¬ÙŠØ¨ÙˆØªÙŠ', emoji: 'ğŸ‡©ğŸ‡¯', label: 'Ø¬ÙŠØ¨ÙˆØªÙŠ' },
          { value: 'ğŸ‡°ğŸ‡² Ø¬Ø²Ø± Ø§Ù„Ù‚Ù…Ø±', emoji: 'ğŸ‡°ğŸ‡²', label: 'Ø¬Ø²Ø± Ø§Ù„Ù‚Ù…Ø±' },
          { value: 'ğŸ‡²ğŸ‡· Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§', emoji: 'ğŸ‡²ğŸ‡·', label: 'Ù…ÙˆØ±ÙŠØªØ§Ù†ÙŠØ§' },
          { value: 'ğŸ‡¹ğŸ‡© ØªØ´Ø§Ø¯', emoji: 'ğŸ‡¹ğŸ‡©', label: 'ØªØ´Ø§Ø¯' },
          { value: 'ğŸ‡³ğŸ‡ª Ø§Ù„Ù†ÙŠØ¬Ø±', emoji: 'ğŸ‡³ğŸ‡ª', label: 'Ø§Ù„Ù†ÙŠØ¬Ø±' },
          { value: 'ğŸ‡²ğŸ‡± Ù…Ø§Ù„ÙŠ', emoji: 'ğŸ‡²ğŸ‡±', label: 'Ù…Ø§Ù„ÙŠ' },
          { value: 'ğŸ‡§ğŸ‡« Ø¨ÙˆØ±ÙƒÙŠÙ†Ø§ ÙØ§Ø³Ùˆ', emoji: 'ğŸ‡§ğŸ‡«', label: 'Ø¨ÙˆØ±ÙƒÙŠÙ†Ø§ ÙØ§Ø³Ùˆ' },
          { value: 'ğŸ‡¨ğŸ‡® Ø³Ø§Ø­Ù„ Ø§Ù„Ø¹Ø§Ø¬', emoji: 'ğŸ‡¨ğŸ‡®', label: 'Ø³Ø§Ø­Ù„ Ø§Ù„Ø¹Ø§Ø¬' },
          { value: 'ğŸ‡¬ğŸ‡­ ØºØ§Ù†Ø§', emoji: 'ğŸ‡¬ğŸ‡­', label: 'ØºØ§Ù†Ø§' },
          { value: 'ğŸ‡¹ğŸ‡¬ ØªÙˆØºÙˆ', emoji: 'ğŸ‡¹ğŸ‡¬', label: 'ØªÙˆØºÙˆ' },
          { value: 'ğŸ‡§ğŸ‡¯ Ø¨Ù†ÙŠÙ†', emoji: 'ğŸ‡§ğŸ‡¯', label: 'Ø¨Ù†ÙŠÙ†' },
          { value: 'ğŸ‡³ğŸ‡¬ Ù†ÙŠØ¬ÙŠØ±ÙŠØ§', emoji: 'ğŸ‡³ğŸ‡¬', label: 'Ù†ÙŠØ¬ÙŠØ±ÙŠØ§' },
          { value: 'ğŸ‡¨ğŸ‡² Ø§Ù„ÙƒØ§Ù…ÙŠØ±ÙˆÙ†', emoji: 'ğŸ‡¨ğŸ‡²', label: 'Ø§Ù„ÙƒØ§Ù…ÙŠØ±ÙˆÙ†' },
          { value: 'ğŸ‡¨ğŸ‡« Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„ÙˆØ³Ø·Ù‰', emoji: 'ğŸ‡¨ğŸ‡«', label: 'Ø¬Ù…Ù‡ÙˆØ±ÙŠØ© Ø£ÙØ±ÙŠÙ‚ÙŠØ§ Ø§Ù„ÙˆØ³Ø·Ù‰' },
          { value: 'ğŸ‡¨ğŸ‡¬ Ø§Ù„ÙƒÙˆÙ†ØºÙˆ', emoji: 'ğŸ‡¨ğŸ‡¬', label: 'Ø§Ù„ÙƒÙˆÙ†ØºÙˆ' },
          { value: 'ğŸ‡¨ğŸ‡© ØªØ´Ø§Ø¯', emoji: 'ğŸ‡¨ğŸ‡©', label: 'ØªØ´Ø§Ø¯' },
          { value: 'ğŸ‡¸ğŸ‡¸ Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø³ÙˆØ¯Ø§Ù†', emoji: 'ğŸ‡¸ğŸ‡¸', label: 'Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø³ÙˆØ¯Ø§Ù†' },
          { value: 'ğŸ‡ªğŸ‡¹ Ø¥Ø«ÙŠÙˆØ¨ÙŠØ§', emoji: 'ğŸ‡ªğŸ‡¹', label: 'Ø¥Ø«ÙŠÙˆØ¨ÙŠØ§' },
          { value: 'ğŸ‡ªğŸ‡· Ø¥Ø±ÙŠØªØ±ÙŠØ§', emoji: 'ğŸ‡ªğŸ‡·', label: 'Ø¥Ø±ÙŠØªØ±ÙŠØ§' }
        ];
        
        this.socialStatuses = [
          { value: 'Ø£Ø¹Ø²Ø¨', emoji: 'ğŸ’š', label: 'Ø£Ø¹Ø²Ø¨' },
          { value: 'Ù…ØªØ²ÙˆØ¬', emoji: 'ğŸ’', label: 'Ù…ØªØ²ÙˆØ¬' },
          { value: 'Ù…Ø·Ù„Ù‚', emoji: 'ğŸ’”', label: 'Ù…Ø·Ù„Ù‚' },
          { value: 'Ø£Ø±Ù…Ù„', emoji: 'ğŸ–¤', label: 'Ø£Ø±Ù…Ù„' }
        ];
        
        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ø±
        this.ages = [];
        for (let i = 13; i <= 100; i++) {
          this.ages.push({ 
            value: `${i} Ø³Ù†Ø©`, 
            emoji: i < 18 ? 'ğŸ‘¶' : i < 25 ? 'ğŸ‘¨â€ğŸ“' : i < 35 ? 'ğŸ‘¨â€ğŸ’¼' : i < 50 ? 'ğŸ‘¨â€ğŸ¦±' : 'ğŸ‘´',
            label: `${i} Ø³Ù†Ø©`
          });
        }
        
        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ©
        this.effects = [
          { 
            value: 'none', 
            name: 'Ø¨Ø¯ÙˆÙ† ØªØ£Ø«ÙŠØ±Ø§Øª',
            emoji: 'ğŸš«',
            description: 'Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ØªØ£Ø«ÙŠØ±Ø§Øª Ø­Ø±ÙƒÙŠØ©'
          },
          { 
            value: 'effect-pulse', 
            name: 'Ø§Ù„Ù†Ø¨Ø¶ Ø§Ù„Ù†Ø§Ø¹Ù…',
            emoji: 'ğŸ’“',
            description: 'Ù†Ø¨Ø¶ Ø®ÙÙŠÙ ÙˆÙ…Ø±ÙŠØ­'
          },
          { 
            value: 'effect-glow', 
            name: 'Ø§Ù„ØªÙˆÙ‡Ø¬ Ø§Ù„Ø°Ù‡Ø¨ÙŠ',
            emoji: 'âœ¨',
            description: 'ØªÙˆÙ‡Ø¬ Ø°Ù‡Ø¨ÙŠ Ø¬Ù…ÙŠÙ„'
          },
          { 
            value: 'effect-water', 
            name: 'Ø§Ù„ØªÙ…ÙˆØ¬ Ø§Ù„Ù…Ø§Ø¦ÙŠ',
            emoji: 'ğŸŒŠ',
            description: 'Ø­Ø±ÙƒØ© Ù…Ø§Ø¦ÙŠØ© Ø³Ù„Ø³Ø©'
          },
          { 
            value: 'effect-aurora', 
            name: 'Ø§Ù„Ø´ÙÙ‚ Ø§Ù„Ù‚Ø·Ø¨ÙŠ',
            emoji: 'ğŸŒŒ',
            description: 'ØªØ£Ø«ÙŠØ± Ø§Ù„Ø´ÙÙ‚ Ø§Ù„Ù…Ù„ÙˆÙ†'
          },
          { 
            value: 'effect-neon', 
            name: 'Ø§Ù„Ù†ÙŠÙˆÙ† Ø§Ù„Ù…ØªÙˆÙ‡Ø¬',
            emoji: 'ğŸ’–',
            description: 'ØªÙˆÙ‡Ø¬ Ù†ÙŠÙˆÙ† ÙˆØ±Ø¯ÙŠ'
          },
          { 
            value: 'effect-crystal', 
            name: 'Ø§Ù„Ø¨Ù„ÙˆØ± Ø§Ù„Ù…ØªÙ„Ø£Ù„Ø¦',
            emoji: 'ğŸ’',
            description: 'Ù„Ù…Ø¹Ø© Ø¨Ù„ÙˆØ±ÙŠØ© Ø¬Ù…ÙŠÙ„Ø©'
          },
          { 
            value: 'effect-fire', 
            name: 'Ø§Ù„Ù†Ø§Ø± Ø§Ù„Ù…ØªÙˆÙ‡Ø¬Ø©',
            emoji: 'ğŸ”¥',
            description: 'ØªÙˆÙ‡Ø¬ Ù†Ø§Ø±ÙŠ Ø­Ø§Ø±Ù‚'
          },
          { 
            value: 'effect-magnetic', 
            name: 'Ø§Ù„Ù…ØºÙ†Ø§Ø·ÙŠØ³',
            emoji: 'ğŸ§²',
            description: 'Ø­Ø±ÙƒØ© Ø¹Ø§Ø¦Ù…Ø© Ù…ØºÙ†Ø§Ø·ÙŠØ³ÙŠØ©'
          },
          { 
            value: 'effect-heartbeat', 
            name: 'Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ù†Ø§Ø¨Ø¶',
            emoji: 'â¤ï¸',
            description: 'Ù†Ø¨Ø¶ Ù…Ø«Ù„ Ø§Ù„Ù‚Ù„Ø¨'
          },
          { 
            value: 'effect-stars', 
            name: 'Ø§Ù„Ù†Ø¬ÙˆÙ… Ø§Ù„Ù…ØªÙ„Ø£Ù„Ø¦Ø©',
            emoji: 'â­',
            description: 'Ù†Ø¬ÙˆÙ… Ù…ØªØ­Ø±ÙƒØ©'
          },
          { 
            value: 'effect-rainbow', 
            name: 'Ù‚ÙˆØ³ Ù‚Ø²Ø­',
            emoji: 'ğŸŒˆ',
            description: 'ØªØ¯Ø±Ø¬ Ù‚ÙˆØ³ Ù‚Ø²Ø­ Ù…ØªØ­Ø±Ùƒ'
          },
          { 
            value: 'effect-snow', 
            name: 'Ø§Ù„Ø«Ù„Ø¬ Ø§Ù„Ù…ØªØ³Ø§Ù‚Ø·',
            emoji: 'â„ï¸',
            description: 'Ø«Ù„Ø¬ Ù…ØªØ³Ø§Ù‚Ø· Ø¬Ù…ÙŠÙ„'
          },
          { 
            value: 'effect-lightning', 
            name: 'Ø§Ù„Ø¨Ø±Ù‚',
            emoji: 'âš¡',
            description: 'ÙˆÙ…ÙŠØ¶ Ø§Ù„Ø¨Ø±Ù‚'
          },
          { 
            value: 'effect-smoke', 
            name: 'Ø§Ù„Ø¯Ø®Ø§Ù†',
            emoji: 'ğŸ’¨',
            description: 'Ø¯Ø®Ø§Ù† Ù…ØªØµØ§Ø¹Ø¯'
          },
          { 
            value: 'effect-butterfly', 
            name: 'Ø§Ù„ÙØ±Ø§Ø´Ø©',
            emoji: 'ğŸ¦‹',
            description: 'ÙØ±Ø§Ø´Ø© Ù…ØªØ­Ø±ÙƒØ©'
          }
        ];
        
        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¹ØµØ±ÙŠØ© Ø§Ù„Ù…ØªØ¯Ø±Ø¬Ø©
        this.themes = [
          { 
            value: 'theme-sunset-glow', 
            name: 'ØªÙˆÙ‡Ø¬ Ø§Ù„ØºØ±ÙˆØ¨',
            preview: 'linear-gradient(135deg, #ff6b6b, #ff8e53, #ffa726, #ffcc02, #ff6b6b)',
            emoji: 'ğŸŒ…'
          },
          { 
            value: 'theme-ocean-depths', 
            name: 'Ø£Ø¹Ù…Ø§Ù‚ Ø§Ù„Ù…Ø­ÙŠØ·',
            preview: 'linear-gradient(135deg, #667eea, #764ba2, #f093fb, #667eea)',
            emoji: 'ğŸŒŠ'
          },
          { 
            value: 'theme-aurora-borealis', 
            name: 'Ø§Ù„Ø´ÙÙ‚ Ø§Ù„Ù‚Ø·Ø¨ÙŠ',
            preview: 'linear-gradient(135deg, #a8edea, #fed6e3, #ffecd2, #fcb69f, #a8edea)',
            emoji: 'âœ¨'
          },
          { 
            value: 'theme-cosmic-night', 
            name: 'Ø§Ù„Ù„ÙŠÙ„ Ø§Ù„ÙƒÙˆÙ†ÙŠ',
            preview: 'linear-gradient(135deg, #667eea, #764ba2, #f093fb, #667eea, #764ba2)',
            emoji: 'ğŸŒŒ'
          },
          { 
            value: 'theme-emerald-forest', 
            name: 'Ø§Ù„ØºØ§Ø¨Ø© Ø§Ù„Ø²Ù…Ø±Ø¯ÙŠØ©',
            preview: 'linear-gradient(135deg, #11998e, #38ef7d, #11998e, #38ef7d)',
            emoji: 'ğŸŒ¿'
          },
          { 
            value: 'theme-rose-gold', 
            name: 'Ø§Ù„ÙˆØ±Ø¯ÙŠ Ø§Ù„Ø°Ù‡Ø¨ÙŠ',
            preview: 'linear-gradient(135deg, #ff9a9e, #fecfef, #fecfef, #ff9a9e)',
            emoji: 'ğŸŒ¸'
          },
          { 
            value: 'theme-midnight-purple', 
            name: 'Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠ Ø§Ù„Ù„ÙŠÙ„ÙŠ',
            preview: 'linear-gradient(135deg, #4facfe, #00f2fe, #4facfe, #00f2fe)',
            emoji: 'ğŸ”®'
          },
          { 
            value: 'theme-golden-hour', 
            name: 'Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©',
            preview: 'linear-gradient(135deg, #fa709a, #fee140, #fa709a, #fee140)',
            emoji: 'ğŸŒŸ'
          },
          { 
            value: 'theme-neon-dreams', 
            name: 'Ø£Ø­Ù„Ø§Ù… Ø§Ù„Ù†ÙŠÙˆÙ†',
            preview: 'linear-gradient(135deg, #ff0099, #493240, #ff0099, #493240)',
            emoji: 'ğŸ’«'
          },
          { 
            value: 'theme-silver-mist', 
            name: 'Ø§Ù„Ø¶Ø¨Ø§Ø¨ Ø§Ù„ÙØ¶ÙŠ',
            preview: 'linear-gradient(135deg, #c3cfe2, #c3cfe2, #e0c3fc, #c3cfe2)',
            emoji: 'â˜ï¸'
          },
          { 
            value: 'theme-fire-opal', 
            name: 'Ø§Ù„Ø£ÙˆØ¨Ø§Ù„ Ø§Ù„Ù†Ø§Ø±ÙŠ',
            preview: 'linear-gradient(135deg, #ff416c, #ff4b2b, #ff416c, #ff4b2b)',
            emoji: 'ğŸ”¥'
          },
          { 
            value: 'theme-crystal-clear', 
            name: 'Ø§Ù„Ø¨Ù„ÙˆØ± Ø§Ù„ØµØ§ÙÙŠ',
            preview: 'linear-gradient(135deg, #89f7fe, #66a6ff, #89f7fe, #66a6ff)',
            emoji: 'ğŸ’'
          },
          { 
            value: 'theme-burgundy-velvet', 
            name: 'Ø§Ù„Ø®Ù…Ø±ÙŠ Ø§Ù„Ù…Ø®Ù…Ù„ÙŠ',
            preview: 'linear-gradient(135deg, #800020, #8b0000, #a52a2a, #800020)',
            emoji: 'ğŸ·'
          },
          { 
            value: 'theme-golden-velvet', 
            name: 'Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ù…Ø®Ù…Ù„ÙŠ',
            preview: 'linear-gradient(135deg, #ffd700, #daa520, #b8860b, #ffd700)',
            emoji: 'ğŸ‘‘'
          },
          { 
            value: 'theme-royal-black', 
            name: 'Ø§Ù„Ø£Ø³ÙˆØ¯ Ø§Ù„Ù…Ù„ÙƒÙŠ',
            preview: 'linear-gradient(135deg, #191970, #2f4f4f, #000000, #191970)',
            emoji: 'âšœï¸'
          },
          { 
            value: 'theme-berry-velvet', 
            name: 'Ø§Ù„ØªÙˆØªÙŠ Ø§Ù„Ù…Ø®Ù…Ù„ÙŠ',
            preview: 'linear-gradient(135deg, #8a2be2, #4b0082, #800080, #8a2be2)',
            emoji: 'ğŸ«'
          },
          { 
            value: 'theme-crimson-velvet', 
            name: 'Ø§Ù„Ø¹Ù†Ø§Ø¨ÙŠ Ø§Ù„Ù…Ø®Ù…Ù„ÙŠ',
            preview: 'linear-gradient(135deg, #dc143c, #b22222, #8b0000, #dc143c)',
            emoji: 'ğŸ”´'
          },
          { 
            value: 'theme-emerald-velvet', 
            name: 'Ø§Ù„Ø²Ù…Ø±Ø¯ÙŠ Ø§Ù„Ù…Ø®Ù…Ù„ÙŠ',
            preview: 'linear-gradient(135deg, #008000, #228b22, #006400, #008000)',
            emoji: 'ğŸ’š'
          },
          { 
            value: 'theme-sapphire-velvet', 
            name: 'Ø§Ù„ÙŠØ§Ù‚ÙˆØªÙŠ Ø§Ù„Ù…Ø®Ù…Ù„ÙŠ',
            preview: 'linear-gradient(135deg, #0047ab, #191970, #00008b, #0047ab)',
            emoji: 'ğŸ’™'
          },
          { 
            value: 'theme-ruby-velvet', 
            name: 'Ø§Ù„ÙŠØ§Ù‚ÙˆØª Ø§Ù„Ø£Ø­Ù…Ø±',
            preview: 'linear-gradient(135deg, #9b111e, #8b0000, #800000, #9b111e)',
            emoji: 'â¤ï¸'
          },
          { 
            value: 'theme-amethyst-velvet', 
            name: 'Ø§Ù„Ø£Ù…ÙŠØ«ÙŠØ³Øª Ø§Ù„Ù…Ø®Ù…Ù„ÙŠ',
            preview: 'linear-gradient(135deg, #9966cc, #8a2be2, #4b0082, #9966cc)',
            emoji: 'ğŸ’œ'
          },
          { 
            value: 'theme-onyx-velvet', 
            name: 'Ø§Ù„Ø£ÙˆÙ†ÙŠÙƒØ³ Ø§Ù„Ù…Ø®Ù…Ù„ÙŠ',
            preview: 'linear-gradient(135deg, #2f4f4f, #191919, #000000, #2f4f4f)',
            emoji: 'ğŸ–¤'
          },
          { 
            value: 'theme-sunset-fire', 
            name: 'ØªÙˆÙ‡Ø¬ Ø§Ù„Ù†Ø§Ø± Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ - Ù…Ø­Ø¯Ø«',
            preview: 'linear-gradient(to bottom, #ff7c00 0%, #e10026 30%, #800e8c 65%, #1a004d 100%)',
            emoji: 'ğŸ”¥'
          },
          { 
            value: 'theme-perfect-gradient', 
            name: 'Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ - Ù…Ø­Ø¯Ø«',
            preview: 'linear-gradient(to bottom, #ff7c00 0%, #e10026 30%, #800e8c 65%, #1a004d 100%)',
            emoji: 'ğŸŒŸ'
          },
          { 
            value: 'theme-image-gradient', 
            name: 'ØªØ¯Ø±Ø¬ Ø§Ù„ØµÙˆØ±Ø© - Ù…Ø­Ø¯Ø«',
            preview: 'linear-gradient(to bottom, #ff7c00 0%, #e10026 30%, #800e8c 65%, #1a004d 100%)',
            emoji: 'ğŸ–¼ï¸'
          },
          { 
            value: 'theme-new-gradient', 
            name: 'Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ±Ø©',
            preview: 'linear-gradient(to bottom, #ff7c00 0%, #e10026 30%, #800e8c 65%, #1a004d 100%)',
            emoji: 'ğŸ¨'
          }
        ];
        
        this.init();
      }

      init() {
        this.loadSavedData();
        this.setupEventListeners();
        this.setupProfileMode();
      }

      setupEventListeners() {
        // ØªØ­Ø³ÙŠÙ† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        this.avatarInput.addEventListener('change', (e) => this.handleAvatarChange(e));
        this.coverInput.addEventListener('change', (e) => this.handleCoverChange(e));
        
        // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
        window.addEventListener('error', (e) => this.handleError(e));
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        const editModal = document.getElementById('editModal');
        if (editModal) {
          editModal.addEventListener('click', (e) => {
            if (e.target.id === 'editModal') {
              this.closeEditModal();
            }
          });
        }
      }

      validateFile(file) {
        if (!file) return { valid: false, message: 'Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„Ù' };
        
        if (!this.allowedTypes.includes(file.type)) {
          return { valid: false, message: 'Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…. ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© JPG Ø£Ùˆ PNG Ø£Ùˆ WebP' };
        }
        
        if (file.size > this.maxFileSize) {
          return { valid: false, message: 'Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹. Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ 5 Ù…ÙŠØ¬Ø§Ø¨Ø§ÙŠØª' };
        }
        
        return { valid: true };
      }

      async handleAvatarChange(event) {
        const file = event.target.files[0];
        const validation = this.validateFile(file);
        
        if (!validation.valid) {
          this.showMessage(validation.message, 'error');
          return;
        }

        try {
          this.setLoading(true);
          const result = await this.readFileAsDataURL(file);
          this.avatarImage.src = result;
          localStorage.setItem('user-avatar', result);
          this.showMessage('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ© Ø¨Ù†Ø¬Ø§Ø­', 'success');
        } catch (error) {
          this.showMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©', 'error');
          console.error('Avatar change error:', error);
        } finally {
          this.setLoading(false);
        }
      }

      async handleCoverChange(event) {
        const file = event.target.files[0];
        const validation = this.validateFile(file);
        
        if (!validation.valid) {
          this.showMessage(validation.message, 'error');
          return;
        }

        try {
          this.setLoading(true);
          const result = await this.readFileAsDataURL(file);
          this.profileCover.style.backgroundImage = `url('${result}')`;
          localStorage.setItem('user-cover', result);
          this.showMessage('ØªÙ… ØªØºÙŠÙŠØ± ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù Ø¨Ù†Ø¬Ø§Ø­', 'success');
        } catch (error) {
          this.showMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù', 'error');
          console.error('Cover change error:', error);
        } finally {
          this.setLoading(false);
        }
      }

      readFileAsDataURL(file) {
        return new Promise((resolve, reject) => {
          const reader = new FileReader();
          reader.onload = (e) => resolve(e.target.result);
          reader.onerror = reject;
          reader.readAsDataURL(file);
        });
      }

      loadSavedData() {
        try {
          const savedAvatar = localStorage.getItem('user-avatar');
          if (savedAvatar && this.avatarImage) {
            this.avatarImage.src = savedAvatar;
          }
          
          const savedCover = localStorage.getItem('user-cover');
          if (savedCover && this.profileCover) {
            this.profileCover.style.backgroundImage = `url('${savedCover}')`;
          }
          
          // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
          const savedName = localStorage.getItem('user-name');
          const userNameElement = document.getElementById('userName');
          if (savedName && userNameElement) {
            userNameElement.textContent = savedName;
          }
          
          const savedStatus = localStorage.getItem('user-status');
          const userStatusElement = document.getElementById('userStatus');
          if (savedStatus && userStatusElement) {
            userStatusElement.textContent = savedStatus;
          }
          
          const savedCountry = localStorage.getItem('user-country');
          const userCountryElement = document.getElementById('userCountry');
          if (savedCountry && userCountryElement) {
            userCountryElement.textContent = savedCountry;
          }
          
          const savedAge = localStorage.getItem('user-age');
          const userAgeElement = document.getElementById('userAge');
          if (savedAge && userAgeElement) {
            userAgeElement.textContent = savedAge;
          }
          
          const savedSocialStatus = localStorage.getItem('user-social-status');
          const userSocialStatusElement = document.getElementById('userSocialStatus');
          if (savedSocialStatus && userSocialStatusElement) {
            userSocialStatusElement.textContent = savedSocialStatus;
          }
          
          const savedGender = localStorage.getItem('user-gender');
          const userGenderElement = document.getElementById('userGender');
          if (savedGender && userGenderElement) {
            userGenderElement.textContent = savedGender;
          }
          
          // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…Ø­ÙÙˆØ¸
          const savedTheme = localStorage.getItem('user-theme');
          if (savedTheme) {
            this.applyTheme(savedTheme);
            const userThemeElement = document.getElementById('userTheme');
            if (userThemeElement) {
              const theme = this.themes.find(t => t.value === savedTheme);
              userThemeElement.textContent = theme ? theme.name : 'Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ±Ø©';
            }
          } else {
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
            this.applyTheme('theme-new-gradient');
          }
          
          // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
          const savedEffects = localStorage.getItem('user-effects');
          if (savedEffects) {
            this.applyEffect(savedEffects);
            const userEffectsElement = document.getElementById('userEffects');
            if (userEffectsElement) {
              const effect = this.effects.find(e => e.value === savedEffects);
              userEffectsElement.textContent = effect ? effect.name : 'Ø¨Ø¯ÙˆÙ† ØªØ£Ø«ÙŠØ±Ø§Øª';
            }
          }
        } catch (error) {
          console.error('Error loading saved data:', error);
        }
      }

      setLoading(loading) {
        const card = document.querySelector('.profile-card');
        if (loading) {
          card.classList.add('loading');
        } else {
          card.classList.remove('loading');
        }
      }

      showMessage(message, type) {
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
        const existingMessages = document.querySelectorAll('.error-message, .success-message');
        existingMessages.forEach(msg => msg.remove());

        // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©
        const messageDiv = document.createElement('div');
        messageDiv.className = `${type}-message`;
        messageDiv.textContent = message;
        
        const profileBody = document.querySelector('.profile-body');
        profileBody.insertBefore(messageDiv, profileBody.firstChild);

        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†
        setTimeout(() => {
          messageDiv.remove();
        }, 3000);
      }

      handleError(error) {
        console.error('Application error:', error);
        this.showMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹', 'error');
      }
      
      // Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ¶Ø¹ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ (Ø®Ø§Øµ Ø£Ùˆ Ù„Ø´Ø®Øµ Ø¢Ø®Ø±)
      setupProfileMode() {
        // ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ± Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØºÙŠØ± Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©
        // this.isOwnProfile = false; // Ù„Ø¬Ø¹Ù„Ù‡Ø§ Ù…Ù„Ù Ø´Ø®Øµ Ø¢Ø®Ø±
        
        if (!this.isOwnProfile) {
          this.disableEditing();
        }
      }
      
      // ØªØ¹Ø·ÙŠÙ„ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
      disableEditing() {
        // Ø¥Ø®ÙØ§Ø¡ Ø£Ø²Ø±Ø§Ø± ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±
        const changeCoverBtn = document.querySelector('.change-cover-btn');
        const changeAvatarBtn = document.querySelector('.change-avatar-btn');
        
        if (changeCoverBtn) changeCoverBtn.style.display = 'none';
        if (changeAvatarBtn) changeAvatarBtn.style.display = 'none';
        
        // Ø¥Ø²Ø§Ù„Ø© Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„
        const editableElements = document.querySelectorAll('#userName, #userStatus, .profile-details p');
        
        editableElements.forEach(element => {
          element.style.cursor = 'default';
          element.onclick = null;
          element.style.pointerEvents = 'none';
        });
        
        // Ø¥Ø®ÙØ§Ø¡ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙØ§Ø¹Ù„ ØºÙŠØ± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
        const reportBtn = document.querySelector('button[onclick="handleReport()"]');
        const blockBtn = document.querySelector('button[onclick="handleBlock()"]');
        
        if (reportBtn) reportBtn.style.display = 'none';
        if (blockBtn) blockBtn.style.display = 'none';
        
        // ØªØºÙŠÙŠØ± Ù†Øµ Ø²Ø± Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
        const chatBtn = document.querySelector('button[onclick="handleChat()"]');
        if (chatBtn) {
          chatBtn.textContent = 'ğŸ’¬ Ø¨Ø¯Ø¡ Ù…Ø­Ø§Ø¯Ø«Ø©';
        }
      }
      
      // ØªÙØ¹ÙŠÙ„ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
      enableEditing() {
        this.isOwnProfile = true;
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø£Ø²Ø±Ø§Ø± ØªØºÙŠÙŠØ± Ø§Ù„ØµÙˆØ±
        const changeCoverBtn = document.querySelector('.change-cover-btn');
        const changeAvatarBtn = document.querySelector('.change-avatar-btn');
        
        if (changeCoverBtn) changeCoverBtn.style.display = 'block';
        if (changeAvatarBtn) changeAvatarBtn.style.display = 'block';
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªÙØ¹ÙŠÙ„ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„
        const userName = document.getElementById('userName');
        const userStatus = document.getElementById('userStatus');
        
        if (userName) {
          userName.style.cursor = 'pointer';
          userName.onclick = () => this.openEditModal('name');
          userName.style.pointerEvents = 'auto';
        }
        
        if (userStatus) {
          userStatus.style.cursor = 'pointer';
          userStatus.onclick = () => this.openEditModal('status');
          userStatus.style.pointerEvents = 'auto';
        }
        
        // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙØ§ØµÙŠÙ„
        const detailElements = document.querySelectorAll('.profile-details p');
        detailElements.forEach((element, index) => {
          element.style.cursor = 'pointer';
          element.style.pointerEvents = 'auto';
          
          // ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰
          const text = element.textContent;
          if (text.includes('Ø§Ù„Ø¬Ù†Ø³')) {
            element.onclick = () => this.openEditModal('gender');
          } else if (text.includes('Ø§Ù„Ø¨Ù„Ø¯')) {
            element.onclick = () => this.openEditModal('country');
          } else if (text.includes('Ø§Ù„Ø¹Ù…Ø±')) {
            element.onclick = () => this.openEditModal('age');
          } else if (text.includes('Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©')) {
            element.onclick = () => this.openEditModal('socialStatus');
          }
        });
        
        // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
        const additionalDetailElements = document.querySelectorAll('.additional-details p');
        additionalDetailElements.forEach((element) => {
          element.style.cursor = 'pointer';
          element.style.pointerEvents = 'auto';
          
          const text = element.textContent;
          if (text.includes('Ù„ÙˆÙ† Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ')) {
            element.onclick = () => this.openEditModal('theme');
          } else if (text.includes('ØªØ£Ø«ÙŠØ±Ø§Øª Ø­Ø±ÙƒÙŠØ©')) {
            element.onclick = () => this.openEditModal('effects');
          }
        });
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙØ§Ø¹Ù„
        const reportBtn = document.querySelector('button[onclick="handleReport()"]');
        const blockBtn = document.querySelector('button[onclick="handleBlock()"]');
        
        if (reportBtn) reportBtn.style.display = 'block';
        if (blockBtn) blockBtn.style.display = 'block';
        
        // ØªØºÙŠÙŠØ± Ù†Øµ Ø²Ø± Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
        const chatBtn = document.querySelector('button[onclick="handleChat()"]');
        if (chatBtn) {
          chatBtn.textContent = 'ğŸ’¬ Ù…Ø­Ø§Ø¯Ø«Ø©';
        }
      }
      
      // Ø¯ÙˆØ§Ù„ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      openEditModal(type) {
        this.currentEditType = type;
        const modal = document.getElementById('editModal');
        const title = document.getElementById('editTitle');
        const label = document.getElementById('editLabel');
        const input = document.getElementById('editInput');
        const select = document.getElementById('editSelect');
        
        if (!modal || !title || !label || !input || !select) {
          console.error('Modal elements not found');
          return;
        }
        
        // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        input.style.display = 'none';
        select.style.display = 'none';

        // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø¹Ù†Ø§ØµØ± theme-options Ø£Ùˆ custom-gradient-modal Ø¹Ù†Ø¯ ÙØªØ­ Ø£ÙŠ Ø®ÙŠØ§Ø± ØºÙŠØ± theme
        const editField = document.querySelector('.edit-field');
        const existingThemeOptions = editField.querySelector('.theme-options');
        if (existingThemeOptions) existingThemeOptions.remove();
        const existingCustomGradient = editField.querySelector('.custom-gradient-modal');
        if (existingCustomGradient) existingCustomGradient.remove();

        if (type === 'name') {
          title.textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø§Ø³Ù…';
          label.textContent = 'Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯:';
          input.placeholder = 'Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯';
          input.style.display = 'block';
          const userNameElement = document.getElementById('userName');
          input.value = userNameElement ? userNameElement.textContent : '';
        } else if (type === 'status') {
          title.textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø§Ù„Ø©';
          label.textContent = 'Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:';
          input.placeholder = 'Ø£Ø¯Ø®Ù„ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©';
          input.style.display = 'block';
          const userStatusElement = document.getElementById('userStatus');
          input.value = userStatusElement ? userStatusElement.textContent : '';
        } else if (type === 'gender') {
          title.textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬Ù†Ø³';
          label.textContent = 'Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³:';
          select.style.display = 'block';
          select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³...</option>';
          this.genders.forEach(gender => {
            const option = document.createElement('option');
            option.value = gender.value;
            option.textContent = `${gender.emoji} ${gender.label}`;
            select.appendChild(option);
          });
          const userGenderElement = document.getElementById('userGender');
          if (userGenderElement) {
            select.value = userGenderElement.textContent;
          }
        } else if (type === 'country') {
          title.textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¨Ù„Ø¯';
          label.textContent = 'Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù„Ø¯:';
          select.style.display = 'block';
          select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù„Ø¯...</option>';
          this.countries.forEach(country => {
            const option = document.createElement('option');
            option.value = country.value;
            option.textContent = `${country.emoji} ${country.label}`;
            select.appendChild(option);
          });
          const userCountryElement = document.getElementById('userCountry');
          if (userCountryElement) {
            select.value = userCountryElement.textContent;
          }
        } else if (type === 'age') {
          title.textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¹Ù…Ø±';
          label.textContent = 'Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…Ø±:';
          select.style.display = 'block';
          select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¹Ù…Ø±...</option>';
          this.ages.forEach(age => {
            const option = document.createElement('option');
            option.value = age.value;
            option.textContent = `${age.emoji} ${age.label}`;
            select.appendChild(option);
          });
          const userAgeElement = document.getElementById('userAge');
          if (userAgeElement) {
            select.value = userAgeElement.textContent;
          }
        } else if (type === 'socialStatus') {
          title.textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©';
          label.textContent = 'Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©:';
          select.style.display = 'block';
          select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©...</option>';
          this.socialStatuses.forEach(status => {
            const option = document.createElement('option');
            option.value = status.value;
            option.textContent = `${status.emoji} ${status.label}`;
            select.appendChild(option);
          });
          const userSocialStatusElement = document.getElementById('userSocialStatus');
          if (userSocialStatusElement) {
            select.value = userSocialStatusElement.textContent;
          }
        } else if (type === 'theme') {
          title.textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ù„ÙˆÙ† Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ';
          label.textContent = 'Ø§Ø®ØªØ± Ø§Ù„Ù„ÙˆÙ†:';
          // Ø¥Ø®ÙØ§Ø¡ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
          input.style.display = 'none';
          select.style.display = 'none';
          // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ù„ÙˆØ§Ù†
          const themeContainer = document.createElement('div');
          themeContainer.className = 'theme-options';
          themeContainer.style.cssText = `
            max-height: 300px;
            overflow-y: auto;
            margin-top: 10px;
          `;
          this.themes.forEach(theme => {
            const themeOption = document.createElement('div');
            themeOption.className = 'theme-option';
            themeOption.onclick = () => this.selectTheme(theme.value);
            const preview = document.createElement('div');
            preview.className = 'theme-preview';
            preview.style.background = theme.preview;
            const name = document.createElement('div');
            name.className = 'theme-name';
            name.textContent = `${theme.emoji} ${theme.name}`;
            themeOption.appendChild(preview);
            themeOption.appendChild(name);
            themeContainer.appendChild(themeOption);
          });

          // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
          const existingContainer = editField.querySelector('.theme-options');
          if (existingContainer) {
            existingContainer.remove();
          }
          editField.appendChild(themeContainer);
          // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ
          const currentTheme = localStorage.getItem('user-theme') || 'theme-new-gradient';
          this.highlightCurrentTheme(currentTheme);
        } else if (type === 'effects') {
          title.textContent = 'ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ©';
          label.textContent = 'Ø§Ø®ØªØ± Ø§Ù„ØªØ£Ø«ÙŠØ±:';
          // Ø¥Ø®ÙØ§Ø¡ Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
          input.style.display = 'none';
          select.style.display = 'none';
          // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª
          const effectsContainer = document.createElement('div');
          effectsContainer.className = 'theme-options';
          effectsContainer.style.cssText = `
            max-height: 400px;
            overflow-y: auto;
            margin-top: 10px;
          `;
          this.effects.forEach(effect => {
            const effectOption = document.createElement('div');
            effectOption.className = 'theme-option';
            effectOption.onclick = () => this.selectEffect(effect.value);
            const preview = document.createElement('div');
            preview.className = 'theme-preview';
            preview.style.background = 'linear-gradient(45deg, #ff7c00, #e10026, #800e8c, #1a004d)';
            preview.style.fontSize = '12px';
            preview.style.display = 'flex';
            preview.style.alignItems = 'center';
            preview.style.justifyContent = 'center';
            preview.textContent = effect.emoji;
            const name = document.createElement('div');
            name.className = 'theme-name';
            name.textContent = `${effect.emoji} ${effect.name}`;
            const description = document.createElement('div');
            description.style.cssText = `
              font-size: 11px;
              color: #ccc;
              margin-top: 2px;
            `;
            description.textContent = effect.description;
            effectOption.appendChild(preview);
            effectOption.appendChild(name);
            effectOption.appendChild(description);
            effectsContainer.appendChild(effectOption);
          });

          // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© ÙˆØ¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
          const existingContainer = editField.querySelector('.theme-options');
          if (existingContainer) {
            existingContainer.remove();
          }
          editField.appendChild(effectsContainer);
          // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø­Ø§Ù„ÙŠ
          const currentEffect = localStorage.getItem('user-effects') || 'none';
          this.highlightCurrentEffect(currentEffect);
        }
        modal.classList.add('show');
        if (input.style.display !== 'none') {
          input.focus();
        }
      }
      
      closeEditModal() {
        const modal = document.getElementById('editModal');
        if (modal) {
          modal.classList.remove('show');
          
          // Ø¥Ø²Ø§Ù„Ø© Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ø¶Ø§ÙØ©
          const themeOptions = modal.querySelector('.theme-options');
          if (themeOptions) {
            themeOptions.remove();
          }
          
          // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ø¸Ù‡Ø§Ø± Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
          const input = document.getElementById('editInput');
          const select = document.getElementById('editSelect');
          if (input) input.style.display = 'block';
          if (select) select.style.display = 'none';
        }
        this.currentEditType = null;
      }
      
      saveEdit() {
        const input = document.getElementById('editInput');
        const select = document.getElementById('editSelect');
        
        let newValue = '';
        
        if (input.style.display !== 'none' && input) {
          newValue = input.value.trim();
        } else if (select.style.display !== 'none' && select) {
          newValue = select.value;
        }
        
        if (!newValue) {
          this.showMessage('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ…Ø© ØµØ­ÙŠØ­Ø©', 'error');
          return;
        }
        
        if (this.currentEditType === 'name') {
          const userNameElement = document.getElementById('userName');
          if (userNameElement) {
            userNameElement.textContent = newValue;
            localStorage.setItem('user-name', newValue);
            this.showMessage('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù… Ø¨Ù†Ø¬Ø§Ø­', 'success');
          }
        } else if (this.currentEditType === 'status') {
          const userStatusElement = document.getElementById('userStatus');
          if (userStatusElement) {
            userStatusElement.textContent = newValue;
            localStorage.setItem('user-status', newValue);
            this.showMessage('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­', 'success');
          }
                 } else if (this.currentEditType === 'gender') {
           const userGenderElement = document.getElementById('userGender');
           if (userGenderElement) {
             userGenderElement.textContent = newValue;
             localStorage.setItem('user-gender', newValue);
             this.showMessage('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø¬Ù†Ø³ Ø¨Ù†Ø¬Ø§Ø­', 'success');
           }
         } else if (this.currentEditType === 'country') {
           const userCountryElement = document.getElementById('userCountry');
           if (userCountryElement) {
             userCountryElement.textContent = newValue;
             localStorage.setItem('user-country', newValue);
             this.showMessage('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø¨Ù„Ø¯ Ø¨Ù†Ø¬Ø§Ø­', 'success');
           }
         } else if (this.currentEditType === 'age') {
           const userAgeElement = document.getElementById('userAge');
           if (userAgeElement) {
             userAgeElement.textContent = newValue;
             localStorage.setItem('user-age', newValue);
             this.showMessage('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø¹Ù…Ø± Ø¨Ù†Ø¬Ø§Ø­', 'success');
           }
                 } else if (this.currentEditType === 'socialStatus') {
          const userSocialStatusElement = document.getElementById('userSocialStatus');
          if (userSocialStatusElement) {
            userSocialStatusElement.textContent = newValue;
            localStorage.setItem('user-social-status', newValue);
            this.showMessage('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­', 'success');
          }
        } else if (this.currentEditType === 'theme') {
          this.applyTheme(newValue);
          const userThemeElement = document.getElementById('userTheme');
          if (userThemeElement) {
            const theme = this.themes.find(t => t.value === newValue);
            userThemeElement.textContent = theme ? theme.name : 'Ø§Ù„ØªØ¯Ø±Ø¬ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚ Ù„Ù„ØµÙˆØ±Ø©';
            localStorage.setItem('user-theme', newValue);
            this.showMessage('ØªÙ… ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ Ø¨Ù†Ø¬Ø§Ø­', 'success');
          }
        } else if (this.currentEditType === 'effects') {
          this.applyEffect(newValue);
          const userEffectsElement = document.getElementById('userEffects');
          if (userEffectsElement) {
            const effect = this.effects.find(e => e.value === newValue);
            userEffectsElement.textContent = effect ? effect.name : 'Ø¨Ø¯ÙˆÙ† ØªØ£Ø«ÙŠØ±Ø§Øª';
            localStorage.setItem('user-effects', newValue);
            this.showMessage('ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒÙŠØ© Ø¨Ù†Ø¬Ø§Ø­', 'success');
          }
        }
        
        this.closeEditModal();
      }
      
      // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…Ø®ØªØ§Ø±
      applyTheme(themeValue) {
        const profileCard = document.querySelector('.profile-card');
        if (!profileCard) return;
        
        // Ø¥Ø²Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
        this.themes.forEach(theme => {
          profileCard.classList.remove(theme.value);
        });
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø¬Ø¯ÙŠØ¯
        profileCard.classList.add(themeValue);
      }
      
      // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ù…Ø®ØªØ§Ø±
      selectTheme(themeValue) {
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
        const themeOptions = document.querySelectorAll('.theme-option');
        themeOptions.forEach(option => {
          option.classList.remove('selected');
        });
        
        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø®ØªØ§Ø±
        const selectedOption = document.querySelector(`[onclick="this.selectTheme('${themeValue}')"]`);
        if (selectedOption) {
          selectedOption.classList.add('selected');
        }
        
        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù„ÙˆÙ† Ù…Ø¹ ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ
        this.applyTheme(themeValue);
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ ÙÙˆØ±ÙŠØ©
        const theme = this.themes.find(t => t.value === themeValue);
        if (theme) {
          this.showMessage(`ØªÙ… ØªØ·Ø¨ÙŠÙ‚ ${theme.name} Ø¨Ù†Ø¬Ø§Ø­!`, 'success');
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ù‚ÙŠÙ…Ø©
        this.currentEditType = 'theme';
        this.saveEdit();
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØªÙŠÙ†
        setTimeout(() => {
          this.closeEditModal();
        }, 2000);
      }
      
      // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
      highlightCurrentTheme(currentTheme) {
        setTimeout(() => {
          const themeOptions = document.querySelectorAll('.theme-option');
          themeOptions.forEach(option => {
            option.classList.remove('selected');
            if (option.onclick && option.onclick.toString().includes(currentTheme)) {
              option.classList.add('selected');
            }
          });
        }, 100);
      }
      
      // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…Ø®ØªØ§Ø±
      applyEffect(effectValue) {
        const profileCard = document.querySelector('.profile-card');
        if (!profileCard) return;
        
        // Ø¥Ø²Ø§Ù„Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
        this.effects.forEach(effect => {
          profileCard.classList.remove(effect.value);
        });
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† 'none')
        if (effectValue !== 'none') {
          profileCard.classList.add(effectValue);
        }
      }
      
      // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ù…Ø®ØªØ§Ø±
      selectEffect(effectValue) {
        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
        const effectOptions = document.querySelectorAll('.theme-option');
        effectOptions.forEach(option => {
          option.classList.remove('selected');
        });
        
        // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø®ØªØ§Ø±
        const selectedOption = document.querySelector(`[onclick="this.selectEffect('${effectValue}')"]`);
        if (selectedOption) {
          selectedOption.classList.add('selected');
        }
        
        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØ£Ø«ÙŠØ± Ù…Ø¹ ØªØ£Ø«ÙŠØ± Ø¨ØµØ±ÙŠ
        this.applyEffect(effectValue);
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­ ÙÙˆØ±ÙŠØ©
        const effect = this.effects.find(e => e.value === effectValue);
        if (effect) {
          this.showMessage(`ØªÙ… ØªØ·Ø¨ÙŠÙ‚ ${effect.name} Ø¨Ù†Ø¬Ø§Ø­!`, 'success');
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ù‚ÙŠÙ…Ø©
        this.currentEditType = 'effects';
        this.saveEdit();
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØªÙŠÙ†
        setTimeout(() => {
          this.closeEditModal();
        }, 2000);
      }
      
      // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØªØ£Ø«ÙŠØ± Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
      highlightCurrentEffect(currentEffect) {
        setTimeout(() => {
          const effectOptions = document.querySelectorAll('.theme-option');
          effectOptions.forEach(option => {
            option.classList.remove('selected');
            if (option.onclick && option.onclick.toString().includes(currentEffect)) {
              option.classList.add('selected');
            }
          });
        }, 100);
      }




    }

    // Ø¯ÙˆØ§Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„
    function openEditModal(type) {
      if (profileManager && profileManager.isOwnProfile) {
        profileManager.openEditModal(type);
      }
    }
    
    function closeEditModal() {
      if (profileManager) {
        profileManager.closeEditModal();
      }
    }
    
    function saveEdit() {
      if (profileManager && profileManager.isOwnProfile) {
        profileManager.saveEdit();
      }
    }
    
    // Ø¯ÙˆØ§Ù„ Ù„Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø£ÙˆØ¶Ø§Ø¹ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ
    function showOwnProfile() {
      if (profileManager) {
        profileManager.enableEditing();
      }
    }
    
    function showOtherProfile() {
      if (profileManager) {
        profileManager.isOwnProfile = false;
        profileManager.disableEditing();
      }
    }

    function handleReport() {
      try {
        if (profileManager && !profileManager.isOwnProfile) {
          alert('Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ù„Ø§Øº Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©');
        }
      } catch (error) {
        console.error('Error in handleReport:', error);
      }
    }

    function handleBlock() {
      try {
        if (profileManager && !profileManager.isOwnProfile) {
          if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø¸Ø± Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŸ')) {
            alert('ØªÙ… Ø­Ø¸Ø± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');
          }
        }
      } catch (error) {
        console.error('Error in handleBlock:', error);
      }
    }

    function handleChat() {
      try {
        if (profileManager && !profileManager.isOwnProfile) {
          alert('Ø³ÙŠØªÙ… ÙØªØ­ Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©');
        }
      } catch (error) {
        console.error('Error in handleChat:', error);
      }
    }

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
    let profileManager;
    document.addEventListener('DOMContentLoaded', function() {
      try {
        profileManager = new ProfileManager();
      } catch (error) {
        console.error('Error initializing ProfileManager:', error);
      }
    });
  </script>

</body>
</html> 