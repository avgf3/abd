
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

🔄 Initializing SQLite database at: /workspace/data/chatapp.db
✅ SQLite database initialized successfully
✅ تم الاتصال بقاعدة بيانات SQLite
[dotenv@17.2.0] injecting env (7) from .env (tip: 🔐 encrypt with dotenvx: https://dotenvx.com)
🛡️ Security middleware configured
🔄 بدء التنظيف الدوري كل 6 ساعات
7:47:24 PM [express] Current environment: development
Error initializing owner: SqliteError: no such column: "points" - should this be a string literal in single-quotes?
    at Database.prepare (/workspace/node_modules/better-sqlite3/lib/methods/wrappers.js:5:21)
    at BetterSQLiteSession.prepareQuery (/workspace/node_modules/src/better-sqlite3/session.ts:50:28)
    at BetterSQLiteSession.prepareOneTimeQuery (/workspace/node_modules/src/sqlite-core/session.ts:135:15)
    at SQLiteSelectBase._prepare (/workspace/node_modules/src/sqlite-core/query-builders/select.ts:865:85)
    at SQLiteSelectBase.all (/workspace/node_modules/src/sqlite-core/query-builders/select.ts:884:15)
    at SQLiteSelectBase.execute (/workspace/node_modules/src/sqlite-core/query-builders/select.ts:896:15)
    at SQLiteSelectBase.then (/workspace/node_modules/src/query-promise.ts:31:15) {
  code: 'SQLITE_ERROR'
}
تم تحميل 0 جهاز محجوب
⚠️ No PostgreSQL DATABASE_URL found or using SQLite, skipping Drizzle migrations
7:47:24 PM [express] ✅ Database migrations completed successfully
🔄 Initializing database tables...
✅ SQLite tables are created by database-fallback.ts
✅ SQLite columns are managed by database-fallback.ts, skipping runtime additions
✅ Default users verification complete
✅ Database initialization completed successfully
✅ Default users verification complete
node:events:496
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use 0.0.0.0:5000
    at Server.setupListenHandle [as _listen2] (node:net:1939:16)
    at listenInCluster (node:net:1996:12)
    at node:net:2205:7
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1975:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:90:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '0.0.0.0',
  port: 5000
}

Node.js v22.16.0
