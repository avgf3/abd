#!/bin/bash
# ุฅุตูุงุญ ูุฌููุนุฉ ูุญุฏุฏุฉ ูู ุงูุฅุทุงุฑุงุช
# ุงูุงุณุชุฎุฏุงู: ./fix_frames_range.sh 10 15

if [ $# -ne 2 ]; then
    echo "โ ุฎุทุฃ: ูุฌุจ ุชุญุฏูุฏ ุฑูู ุงูุจุฏุงูุฉ ูุงูููุงูุฉ"
    echo "ุงูุงุณุชุฎุฏุงู: $0 <ูู> <ุฅูู>"
    echo "ูุซุงู: $0 10 15"
    exit 1
fi

START=$1
END=$2

if [ $START -lt 10 ] || [ $END -gt 42 ] || [ $START -gt $END ]; then
    echo "โ ุฎุทุฃ: ุงูุฃุฑูุงู ูุฌุจ ุฃู ุชููู ุจูู 10 ู 42"
    exit 1
fi

echo ""
echo "โก ======================================================================"
echo "โก  ุฅุตูุงุญ ุงูุฅุทุงุฑุงุช ูู $START ุฅูู $END"
echo "โก ======================================================================"
echo ""

SUCCESS=0
FAILED=0
TOTAL=$((END - START + 1))

for i in $(seq $START $END); do
    echo "โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ"
    echo "๐ ูุนุงูุฌุฉ ุงูุฅุทุงุฑ $i..."
    echo ""
    
    if python3 /workspace/animate_frames_lightning_fixed.py $i; then
        SUCCESS=$((SUCCESS + 1))
        echo "โ ูุฌุญ ุงูุฅุทุงุฑ $i"
    else
        FAILED=$((FAILED + 1))
        echo "โ ูุดู ุงูุฅุทุงุฑ $i"
    fi
    
    echo ""
done

echo ""
echo "โ ======================================================================"
echo "โ  ุงูุชููุช ุงููุนุงูุฌุฉ!"
echo "โ ======================================================================"
echo ""
echo "๐ ุงููุชุงุฆุฌ:"
echo "   โ ูุฌุญ: $SUCCESS/$TOTAL"
echo "   โ ูุดู: $FAILED/$TOTAL"
echo ""
