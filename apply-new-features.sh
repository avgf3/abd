#!/bin/bash

# ๐ ุชุทุจูู ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ุงููุณุชูุญุงุฉ ูู arabic.chat
# ูุฐุง ุงูุณูุฑูุจุช ูุทุจู ุฌููุน ุงูุชุญุณููุงุช ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

echo "๐ ุจุฏุก ุชุทุจูู ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ..."
echo ""

# ุงูุชุญูู ูู ูุฌูุฏ DATABASE_URL
if [ -z "$DATABASE_URL" ]; then
  echo "โ ุฎุทุฃ: DATABASE_URL ุบูุฑ ููุฌูุฏ ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ"
  echo "๐ก ุชุฃูุฏ ูู ุฅุถุงูุฉ DATABASE_URL ูู ููู .env"
  exit 1
fi

echo "โ DATABASE_URL ููุฌูุฏ"
echo ""

# ุชุทุจูู ุงูู migration
echo "๐ ุชุทุจูู migration ูุงุนุฏุฉ ุงูุจูุงูุงุช..."
psql "$DATABASE_URL" -f migrations/add_profile_advanced_features.sql

if [ $? -eq 0 ]; then
  echo "โ ุชู ุชุทุจูู migration ุจูุฌุงุญ"
else
  echo "โ ูุดู ุชุทุจูู migration"
  exit 1
fi

echo ""
echo "๐ ุชู ุชุทุจูู ุฌููุน ุงูููุฒุงุช ุจูุฌุงุญ!"
echo ""
echo "๐ ุงูููุฒุงุช ุงููุถุงูุฉ:"
echo "  โ ูุธุงู ุงูุฅุทุงุฑุงุช (10 ุฅุทุงุฑุงุช)"
echo "  โ ุชุนูููุงุช ูุชุนุฏุฏุฉ ุงููุณุชููุงุช"
echo "  โ ููุฏุงู ุงูุฅุดุนุงุฑุงุช ุงููุชูุฏู"
echo "  โ ูุธุงู ุงููุฏุงูุง"
echo "  โ ุชุชุจุน ุงูุฒูุงุฑ"
echo ""
echo "๐ฅ ุงูุฎุทูุฉ ุงูุชุงููุฉ:"
echo "  1. ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ: npm run dev"
echo "  2. ุงูุชุญ ุงููููุน ูุงุณุชูุชุน ุจุงูููุฒุงุช ุงูุฌุฏูุฏุฉ!"
echo ""
